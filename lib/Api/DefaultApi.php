<?php
/**
 * DefaultApi
 * PHP version 8.1
 *
 * @category Class
 * @package  Infracorp\Extranet\Client
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */

/**
 * Prizz-Telecom Extranet API
 *
 * Prizz-Telecom Extranet API https://dev.prizz-telecom.fr/
 *
 * The version of the OpenAPI document: 1.2.16
 * Generated by: https://openapi-generator.tech
 * Generator version: 7.14.0
 */

/**
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

namespace Infracorp\Extranet\Client\Api;

use GuzzleHttp\Client;
use GuzzleHttp\ClientInterface;
use GuzzleHttp\Exception\ConnectException;
use GuzzleHttp\Exception\RequestException;
use GuzzleHttp\Psr7\MultipartStream;
use GuzzleHttp\Psr7\Request;
use GuzzleHttp\RequestOptions;
use Psr\Http\Message\RequestInterface;
use Psr\Http\Message\ResponseInterface;
use Infracorp\Extranet\Client\ApiException;
use Infracorp\Extranet\Client\Configuration;
use Infracorp\Extranet\Client\FormDataProcessor;
use Infracorp\Extranet\Client\HeaderSelector;
use Infracorp\Extranet\Client\ObjectSerializer;

/**
 * DefaultApi Class Doc Comment
 *
 * @category Class
 * @package  Infracorp\Extranet\Client
 * @author   OpenAPI Generator team
 * @link     https://openapi-generator.tech
 */
class DefaultApi
{
    /**
     * @var ClientInterface
     */
    protected $client;

    /**
     * @var Configuration
     */
    protected $config;

    /**
     * @var HeaderSelector
     */
    protected $headerSelector;

    /**
     * @var int Host index
     */
    protected $hostIndex;

    /** @var string[] $contentTypes **/
    public const contentTypes = [
        'addCommercialOfferComment' => [
            'application/json',
        ],
        'addServiceContractComment' => [
            'application/json',
        ],
        'createCommercialOffer' => [
            'application/json',
        ],
        'createCommercialOfferSection' => [
            'application/json',
        ],
        'createEligibility' => [
            'application/json',
        ],
        'createTicketOperator' => [
            'application/json',
        ],
        'createWorkflow' => [
            'application/json',
        ],
        'eligibilityHistory' => [
            'application/json',
        ],
        'fastOrder' => [
            'application/json',
        ],
        'getApiTokens' => [
            'application/json',
        ],
        'getAppointment' => [
            'application/json',
        ],
        'getAppointments' => [
            'application/json',
        ],
        'getAttachment' => [
            'application/json',
        ],
        'getClientContract' => [
            'application/json',
        ],
        'getClientContracts' => [
            'application/json',
        ],
        'getClientLegalEntities' => [
            'application/json',
        ],
        'getClientLegalEntity' => [
            'application/json',
        ],
        'getCommentThread' => [
            'application/json',
        ],
        'getCommentThreads' => [
            'application/json',
        ],
        'getCommercialOffer' => [
            'application/json',
        ],
        'getCommercialOfferByName' => [
            'application/json',
        ],
        'getCommercialOfferItem' => [
            'application/json',
        ],
        'getCommercialOfferPdf' => [
            'application/json',
        ],
        'getCommercialOfferSection' => [
            'application/json',
        ],
        'getCommercialOffers' => [
            'application/json',
        ],
        'getCurrentUser' => [
            'application/json',
        ],
        'getEligibility' => [
            'application/json',
        ],
        'getEligibilityBasedOfferContextsShortened' => [
            'application/json',
        ],
        'getEntityAttachments' => [
            'application/json',
        ],
        'getInvoice' => [
            'application/json',
        ],
        'getInvoiceDetail' => [
            'application/json',
        ],
        'getInvoicePdf' => [
            'application/json',
        ],
        'getInvoices' => [
            'application/json',
        ],
        'getLegalEntities' => [
            'application/json',
        ],
        'getLegalEntity' => [
            'application/json',
        ],
        'getOfferContext' => [
            'application/json',
        ],
        'getOfferContexts' => [
            'application/json',
        ],
        'getOfferContextsShortened' => [
            'application/json',
        ],
        'getOffers' => [
            'application/json',
        ],
        'getOperatorTickets' => [
            'application/json',
        ],
        'getPriceList' => [
            'application/json',
        ],
        'getPriceListItems' => [
            'application/json',
        ],
        'getPriceListOffers' => [
            'application/json',
        ],
        'getPriceLists' => [
            'application/json',
        ],
        'getProcess' => [
            'application/json',
        ],
        'getPublicAttachments' => [
            'application/json',
        ],
        'getRunningWorkflows' => [
            'application/json',
        ],
        'getService' => [
            'application/json',
        ],
        'getServiceContract' => [
            'application/json',
        ],
        'getServiceContractByName' => [
            'application/json',
        ],
        'getServiceContractOperationalStatusByName' => [
            'application/json',
        ],
        'getServiceContracts' => [
            'application/json',
        ],
        'getServices' => [
            'application/json',
        ],
        'getTicket' => [
            'application/json',
        ],
        'getTickets' => [
            'application/json',
        ],
        'getWorkflow' => [
            'application/json',
        ],
        'openTicket' => [
            'application/json',
        ],
        'removeCommercialOfferSection' => [
            'application/json',
        ],
        'renameCommercialOfferSection' => [
            'application/json',
        ],
        'runProcess' => [
            'multipart/form-data',
        ],
        'runWorkflow' => [
            'multipart/form-data',
            'application/json',
        ],
        'search' => [
            'application/json',
        ],
        'setCommercialOfferSectionOffer' => [
            'application/json',
        ],
        'setServiceContractVlan' => [
            'application/json',
        ],
        'signCommercialOffer' => [
            'application/json',
        ],
        'submitCommercialOffer' => [
            'application/json',
        ],
        'updateCommercialOfferSectionItems' => [
            'application/json',
        ],
    ];

    /**
     * @param ClientInterface $client
     * @param Configuration   $config
     * @param HeaderSelector  $selector
     * @param int             $hostIndex (Optional) host index to select the list of hosts if defined in the OpenAPI spec
     */
    public function __construct(
        ?ClientInterface $client = null,
        ?Configuration $config = null,
        ?HeaderSelector $selector = null,
        int $hostIndex = 0
    ) {
        $this->client = $client ?: new Client();
        $this->config = $config ?: Configuration::getDefaultConfiguration();
        $this->headerSelector = $selector ?: new HeaderSelector();
        $this->hostIndex = $hostIndex;
    }

    /**
     * Set the host index
     *
     * @param int $hostIndex Host index (required)
     */
    public function setHostIndex($hostIndex): void
    {
        $this->hostIndex = $hostIndex;
    }

    /**
     * Get the host index
     *
     * @return int Host index
     */
    public function getHostIndex()
    {
        return $this->hostIndex;
    }

    /**
     * @return Configuration
     */
    public function getConfig()
    {
        return $this->config;
    }

    /**
     * Operation addCommercialOfferComment
     *
     * Commercial offer add comment
     *
     * @param  int $id commercial offer identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddCommercialOfferComment|null $add_commercial_offer_comment add_commercial_offer_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addCommercialOfferComment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function addCommercialOfferComment($id, $add_commercial_offer_comment = null, string $contentType = self::contentTypes['addCommercialOfferComment'][0])
    {
        list($response) = $this->addCommercialOfferCommentWithHttpInfo($id, $add_commercial_offer_comment, $contentType);
        return $response;
    }

    /**
     * Operation addCommercialOfferCommentWithHttpInfo
     *
     * Commercial offer add comment
     *
     * @param  int $id commercial offer identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddCommercialOfferComment|null $add_commercial_offer_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addCommercialOfferComment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function addCommercialOfferCommentWithHttpInfo($id, $add_commercial_offer_comment = null, string $contentType = self::contentTypes['addCommercialOfferComment'][0])
    {
        $request = $this->addCommercialOfferCommentRequest($id, $add_commercial_offer_comment, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation addCommercialOfferCommentAsync
     *
     * Commercial offer add comment
     *
     * @param  int $id commercial offer identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddCommercialOfferComment|null $add_commercial_offer_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addCommercialOfferComment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function addCommercialOfferCommentAsync($id, $add_commercial_offer_comment = null, string $contentType = self::contentTypes['addCommercialOfferComment'][0])
    {
        return $this->addCommercialOfferCommentAsyncWithHttpInfo($id, $add_commercial_offer_comment, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation addCommercialOfferCommentAsyncWithHttpInfo
     *
     * Commercial offer add comment
     *
     * @param  int $id commercial offer identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddCommercialOfferComment|null $add_commercial_offer_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addCommercialOfferComment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function addCommercialOfferCommentAsyncWithHttpInfo($id, $add_commercial_offer_comment = null, string $contentType = self::contentTypes['addCommercialOfferComment'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->addCommercialOfferCommentRequest($id, $add_commercial_offer_comment, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'addCommercialOfferComment'
     *
     * @param  int $id commercial offer identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddCommercialOfferComment|null $add_commercial_offer_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addCommercialOfferComment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function addCommercialOfferCommentRequest($id, $add_commercial_offer_comment = null, string $contentType = self::contentTypes['addCommercialOfferComment'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling addCommercialOfferComment'
            );
        }



        $resourcePath = '/external-api/v2/commercial_offers/{id}/comments';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($add_commercial_offer_comment)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($add_commercial_offer_comment));
            } else {
                $httpBody = $add_commercial_offer_comment;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation addServiceContractComment
     *
     * Service Contract add comment
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddServiceContractComment|null $add_service_contract_comment add_service_contract_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addServiceContractComment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function addServiceContractComment($id, $add_service_contract_comment = null, string $contentType = self::contentTypes['addServiceContractComment'][0])
    {
        list($response) = $this->addServiceContractCommentWithHttpInfo($id, $add_service_contract_comment, $contentType);
        return $response;
    }

    /**
     * Operation addServiceContractCommentWithHttpInfo
     *
     * Service Contract add comment
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddServiceContractComment|null $add_service_contract_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addServiceContractComment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function addServiceContractCommentWithHttpInfo($id, $add_service_contract_comment = null, string $contentType = self::contentTypes['addServiceContractComment'][0])
    {
        $request = $this->addServiceContractCommentRequest($id, $add_service_contract_comment, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation addServiceContractCommentAsync
     *
     * Service Contract add comment
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddServiceContractComment|null $add_service_contract_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addServiceContractComment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function addServiceContractCommentAsync($id, $add_service_contract_comment = null, string $contentType = self::contentTypes['addServiceContractComment'][0])
    {
        return $this->addServiceContractCommentAsyncWithHttpInfo($id, $add_service_contract_comment, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation addServiceContractCommentAsyncWithHttpInfo
     *
     * Service Contract add comment
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddServiceContractComment|null $add_service_contract_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addServiceContractComment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function addServiceContractCommentAsyncWithHttpInfo($id, $add_service_contract_comment = null, string $contentType = self::contentTypes['addServiceContractComment'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->addServiceContractCommentRequest($id, $add_service_contract_comment, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'addServiceContractComment'
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\AddServiceContractComment|null $add_service_contract_comment (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['addServiceContractComment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function addServiceContractCommentRequest($id, $add_service_contract_comment = null, string $contentType = self::contentTypes['addServiceContractComment'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling addServiceContractComment'
            );
        }



        $resourcePath = '/external-api/v2/service_contracts/{id}/comments';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($add_service_contract_comment)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($add_service_contract_comment));
            } else {
                $httpBody = $add_service_contract_comment;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createCommercialOffer
     *
     * Commercial Offers
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOffer $create_commercial_offer create_commercial_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function createCommercialOffer($create_commercial_offer, string $contentType = self::contentTypes['createCommercialOffer'][0])
    {
        list($response) = $this->createCommercialOfferWithHttpInfo($create_commercial_offer, $contentType);
        return $response;
    }

    /**
     * Operation createCommercialOfferWithHttpInfo
     *
     * Commercial Offers
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOffer $create_commercial_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function createCommercialOfferWithHttpInfo($create_commercial_offer, string $contentType = self::contentTypes['createCommercialOffer'][0])
    {
        $request = $this->createCommercialOfferRequest($create_commercial_offer, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 201:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation createCommercialOfferAsync
     *
     * Commercial Offers
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOffer $create_commercial_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createCommercialOfferAsync($create_commercial_offer, string $contentType = self::contentTypes['createCommercialOffer'][0])
    {
        return $this->createCommercialOfferAsyncWithHttpInfo($create_commercial_offer, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createCommercialOfferAsyncWithHttpInfo
     *
     * Commercial Offers
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOffer $create_commercial_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createCommercialOfferAsyncWithHttpInfo($create_commercial_offer, string $contentType = self::contentTypes['createCommercialOffer'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->createCommercialOfferRequest($create_commercial_offer, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createCommercialOffer'
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOffer $create_commercial_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createCommercialOfferRequest($create_commercial_offer, string $contentType = self::contentTypes['createCommercialOffer'][0])
    {

        // verify the required parameter 'create_commercial_offer' is set
        if ($create_commercial_offer === null || (is_array($create_commercial_offer) && count($create_commercial_offer) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $create_commercial_offer when calling createCommercialOffer'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;





        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($create_commercial_offer)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($create_commercial_offer));
            } else {
                $httpBody = $create_commercial_offer;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createCommercialOfferSection
     *
     * Commercial Offer Sections
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOfferSection $create_commercial_offer_section create_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function createCommercialOfferSection($id, $create_commercial_offer_section, string $contentType = self::contentTypes['createCommercialOfferSection'][0])
    {
        list($response) = $this->createCommercialOfferSectionWithHttpInfo($id, $create_commercial_offer_section, $contentType);
        return $response;
    }

    /**
     * Operation createCommercialOfferSectionWithHttpInfo
     *
     * Commercial Offer Sections
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOfferSection $create_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function createCommercialOfferSectionWithHttpInfo($id, $create_commercial_offer_section, string $contentType = self::contentTypes['createCommercialOfferSection'][0])
    {
        $request = $this->createCommercialOfferSectionRequest($id, $create_commercial_offer_section, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 201:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation createCommercialOfferSectionAsync
     *
     * Commercial Offer Sections
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOfferSection $create_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createCommercialOfferSectionAsync($id, $create_commercial_offer_section, string $contentType = self::contentTypes['createCommercialOfferSection'][0])
    {
        return $this->createCommercialOfferSectionAsyncWithHttpInfo($id, $create_commercial_offer_section, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createCommercialOfferSectionAsyncWithHttpInfo
     *
     * Commercial Offer Sections
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOfferSection $create_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createCommercialOfferSectionAsyncWithHttpInfo($id, $create_commercial_offer_section, string $contentType = self::contentTypes['createCommercialOfferSection'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->createCommercialOfferSectionRequest($id, $create_commercial_offer_section, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createCommercialOfferSection'
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\CreateCommercialOfferSection $create_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createCommercialOfferSectionRequest($id, $create_commercial_offer_section, string $contentType = self::contentTypes['createCommercialOfferSection'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling createCommercialOfferSection'
            );
        }

        // verify the required parameter 'create_commercial_offer_section' is set
        if ($create_commercial_offer_section === null || (is_array($create_commercial_offer_section) && count($create_commercial_offer_section) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $create_commercial_offer_section when calling createCommercialOfferSection'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}/sections';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($create_commercial_offer_section)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($create_commercial_offer_section));
            } else {
                $httpBody = $create_commercial_offer_section;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createEligibility
     *
     * Create Eligibility
     *
     * @param  int $client_id client to test (required)
     * @param  string|null $address address to test (optional)
     * @param  float|null $lat latitude for tests by lon,lat (optional)
     * @param  float|null $lon longitude for tests by lon,lat (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createEligibility'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateEligibility
     */
    public function createEligibility($client_id, $address = null, $lat = null, $lon = null, string $contentType = self::contentTypes['createEligibility'][0])
    {
        list($response) = $this->createEligibilityWithHttpInfo($client_id, $address, $lat, $lon, $contentType);
        return $response;
    }

    /**
     * Operation createEligibilityWithHttpInfo
     *
     * Create Eligibility
     *
     * @param  int $client_id client to test (required)
     * @param  string|null $address address to test (optional)
     * @param  float|null $lat latitude for tests by lon,lat (optional)
     * @param  float|null $lon longitude for tests by lon,lat (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createEligibility'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateEligibility, HTTP status code, HTTP response headers (array of strings)
     */
    public function createEligibilityWithHttpInfo($client_id, $address = null, $lat = null, $lon = null, string $contentType = self::contentTypes['createEligibility'][0])
    {
        $request = $this->createEligibilityRequest($client_id, $address, $lat, $lon, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateEligibility',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateEligibility',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateEligibility',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation createEligibilityAsync
     *
     * Create Eligibility
     *
     * @param  int $client_id client to test (required)
     * @param  string|null $address address to test (optional)
     * @param  float|null $lat latitude for tests by lon,lat (optional)
     * @param  float|null $lon longitude for tests by lon,lat (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createEligibility'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createEligibilityAsync($client_id, $address = null, $lat = null, $lon = null, string $contentType = self::contentTypes['createEligibility'][0])
    {
        return $this->createEligibilityAsyncWithHttpInfo($client_id, $address, $lat, $lon, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createEligibilityAsyncWithHttpInfo
     *
     * Create Eligibility
     *
     * @param  int $client_id client to test (required)
     * @param  string|null $address address to test (optional)
     * @param  float|null $lat latitude for tests by lon,lat (optional)
     * @param  float|null $lon longitude for tests by lon,lat (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createEligibility'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createEligibilityAsyncWithHttpInfo($client_id, $address = null, $lat = null, $lon = null, string $contentType = self::contentTypes['createEligibility'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateEligibility';
        $request = $this->createEligibilityRequest($client_id, $address, $lat, $lon, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createEligibility'
     *
     * @param  int $client_id client to test (required)
     * @param  string|null $address address to test (optional)
     * @param  float|null $lat latitude for tests by lon,lat (optional)
     * @param  float|null $lon longitude for tests by lon,lat (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createEligibility'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createEligibilityRequest($client_id, $address = null, $lat = null, $lon = null, string $contentType = self::contentTypes['createEligibility'][0])
    {

        // verify the required parameter 'client_id' is set
        if ($client_id === null || (is_array($client_id) && count($client_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $client_id when calling createEligibility'
            );
        }





        $resourcePath = '/external-api/v2/eligibility';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $address,
            'address', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $lat,
            'lat', // param base name
            'number', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $lon,
            'lon', // param base name
            'number', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_id,
            'clientId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createTicketOperator
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createTicketOperator'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateOperator
     * @deprecated
     */
    public function createTicketOperator($id, string $contentType = self::contentTypes['createTicketOperator'][0])
    {
        list($response) = $this->createTicketOperatorWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation createTicketOperatorWithHttpInfo
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createTicketOperator'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateOperator, HTTP status code, HTTP response headers (array of strings)
     * @deprecated
     */
    public function createTicketOperatorWithHttpInfo($id, string $contentType = self::contentTypes['createTicketOperator'][0])
    {
        $request = $this->createTicketOperatorRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateOperator',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateOperator',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateOperator',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation createTicketOperatorAsync
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createTicketOperator'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function createTicketOperatorAsync($id, string $contentType = self::contentTypes['createTicketOperator'][0])
    {
        return $this->createTicketOperatorAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createTicketOperatorAsyncWithHttpInfo
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createTicketOperator'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function createTicketOperatorAsyncWithHttpInfo($id, string $contentType = self::contentTypes['createTicketOperator'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateOperator';
        $request = $this->createTicketOperatorRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createTicketOperator'
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createTicketOperator'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     * @deprecated
     */
    public function createTicketOperatorRequest($id, string $contentType = self::contentTypes['createTicketOperator'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling createTicketOperator'
            );
        }


        $resourcePath = '/external-api/v2/exploitation/operator/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation createWorkflow
     *
     * Workflows
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateWorkflow $create_workflow create_workflow (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createWorkflow'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetWorkflow
     */
    public function createWorkflow($create_workflow, string $contentType = self::contentTypes['createWorkflow'][0])
    {
        list($response) = $this->createWorkflowWithHttpInfo($create_workflow, $contentType);
        return $response;
    }

    /**
     * Operation createWorkflowWithHttpInfo
     *
     * Workflows
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateWorkflow $create_workflow (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createWorkflow'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetWorkflow, HTTP status code, HTTP response headers (array of strings)
     */
    public function createWorkflowWithHttpInfo($create_workflow, string $contentType = self::contentTypes['createWorkflow'][0])
    {
        $request = $this->createWorkflowRequest($create_workflow, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetWorkflow',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetWorkflow',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetWorkflow',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation createWorkflowAsync
     *
     * Workflows
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateWorkflow $create_workflow (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createWorkflowAsync($create_workflow, string $contentType = self::contentTypes['createWorkflow'][0])
    {
        return $this->createWorkflowAsyncWithHttpInfo($create_workflow, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation createWorkflowAsyncWithHttpInfo
     *
     * Workflows
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateWorkflow $create_workflow (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function createWorkflowAsyncWithHttpInfo($create_workflow, string $contentType = self::contentTypes['createWorkflow'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetWorkflow';
        $request = $this->createWorkflowRequest($create_workflow, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'createWorkflow'
     *
     * @param  \Infracorp\Extranet\Client\Model\CreateWorkflow $create_workflow (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['createWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function createWorkflowRequest($create_workflow, string $contentType = self::contentTypes['createWorkflow'][0])
    {

        // verify the required parameter 'create_workflow' is set
        if ($create_workflow === null || (is_array($create_workflow) && count($create_workflow) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $create_workflow when calling createWorkflow'
            );
        }


        $resourcePath = '/external-api/v2/workflow';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;





        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($create_workflow)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($create_workflow));
            } else {
                $httpBody = $create_workflow;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation eligibilityHistory
     *
     * Eligibility History
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['eligibilityHistory'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\EligibilityHistory200Response
     */
    public function eligibilityHistory($page = null, $items_per_page = null, string $contentType = self::contentTypes['eligibilityHistory'][0])
    {
        list($response) = $this->eligibilityHistoryWithHttpInfo($page, $items_per_page, $contentType);
        return $response;
    }

    /**
     * Operation eligibilityHistoryWithHttpInfo
     *
     * Eligibility History
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['eligibilityHistory'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\EligibilityHistory200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function eligibilityHistoryWithHttpInfo($page = null, $items_per_page = null, string $contentType = self::contentTypes['eligibilityHistory'][0])
    {
        $request = $this->eligibilityHistoryRequest($page, $items_per_page, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\EligibilityHistory200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\EligibilityHistory200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\EligibilityHistory200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation eligibilityHistoryAsync
     *
     * Eligibility History
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['eligibilityHistory'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function eligibilityHistoryAsync($page = null, $items_per_page = null, string $contentType = self::contentTypes['eligibilityHistory'][0])
    {
        return $this->eligibilityHistoryAsyncWithHttpInfo($page, $items_per_page, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation eligibilityHistoryAsyncWithHttpInfo
     *
     * Eligibility History
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['eligibilityHistory'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function eligibilityHistoryAsyncWithHttpInfo($page = null, $items_per_page = null, string $contentType = self::contentTypes['eligibilityHistory'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\EligibilityHistory200Response';
        $request = $this->eligibilityHistoryRequest($page, $items_per_page, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'eligibilityHistory'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['eligibilityHistory'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function eligibilityHistoryRequest($page = null, $items_per_page = null, string $contentType = self::contentTypes['eligibilityHistory'][0])
    {




        $resourcePath = '/external-api/v2/eligibility/history';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation fastOrder
     *
     * Fast order with eligiblity result
     *
     * @param  int $elig_ctx_id identifiant du contexte d&#39;éligibilité (required)
     * @param  \Infracorp\Extranet\Client\Model\FastOrder $fast_order fast_order (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fastOrder'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function fastOrder($elig_ctx_id, $fast_order, string $contentType = self::contentTypes['fastOrder'][0])
    {
        list($response) = $this->fastOrderWithHttpInfo($elig_ctx_id, $fast_order, $contentType);
        return $response;
    }

    /**
     * Operation fastOrderWithHttpInfo
     *
     * Fast order with eligiblity result
     *
     * @param  int $elig_ctx_id identifiant du contexte d&#39;éligibilité (required)
     * @param  \Infracorp\Extranet\Client\Model\FastOrder $fast_order (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fastOrder'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function fastOrderWithHttpInfo($elig_ctx_id, $fast_order, string $contentType = self::contentTypes['fastOrder'][0])
    {
        $request = $this->fastOrderRequest($elig_ctx_id, $fast_order, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 201:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 201:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation fastOrderAsync
     *
     * Fast order with eligiblity result
     *
     * @param  int $elig_ctx_id identifiant du contexte d&#39;éligibilité (required)
     * @param  \Infracorp\Extranet\Client\Model\FastOrder $fast_order (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fastOrder'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function fastOrderAsync($elig_ctx_id, $fast_order, string $contentType = self::contentTypes['fastOrder'][0])
    {
        return $this->fastOrderAsyncWithHttpInfo($elig_ctx_id, $fast_order, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation fastOrderAsyncWithHttpInfo
     *
     * Fast order with eligiblity result
     *
     * @param  int $elig_ctx_id identifiant du contexte d&#39;éligibilité (required)
     * @param  \Infracorp\Extranet\Client\Model\FastOrder $fast_order (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fastOrder'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function fastOrderAsyncWithHttpInfo($elig_ctx_id, $fast_order, string $contentType = self::contentTypes['fastOrder'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->fastOrderRequest($elig_ctx_id, $fast_order, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'fastOrder'
     *
     * @param  int $elig_ctx_id identifiant du contexte d&#39;éligibilité (required)
     * @param  \Infracorp\Extranet\Client\Model\FastOrder $fast_order (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['fastOrder'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function fastOrderRequest($elig_ctx_id, $fast_order, string $contentType = self::contentTypes['fastOrder'][0])
    {

        // verify the required parameter 'elig_ctx_id' is set
        if ($elig_ctx_id === null || (is_array($elig_ctx_id) && count($elig_ctx_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $elig_ctx_id when calling fastOrder'
            );
        }

        // verify the required parameter 'fast_order' is set
        if ($fast_order === null || (is_array($fast_order) && count($fast_order) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $fast_order when calling fastOrder'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/fast_order/{elig_ctx_id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($elig_ctx_id !== null) {
            $resourcePath = str_replace(
                '{' . 'elig_ctx_id' . '}',
                ObjectSerializer::toPathValue($elig_ctx_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($fast_order)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($fast_order));
            } else {
                $httpBody = $fast_order;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getApiTokens
     *
     * User Api Tokens
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiTokens'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetApiTokens200Response
     */
    public function getApiTokens($page = null, $items_per_page = null, string $contentType = self::contentTypes['getApiTokens'][0])
    {
        list($response) = $this->getApiTokensWithHttpInfo($page, $items_per_page, $contentType);
        return $response;
    }

    /**
     * Operation getApiTokensWithHttpInfo
     *
     * User Api Tokens
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiTokens'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetApiTokens200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getApiTokensWithHttpInfo($page = null, $items_per_page = null, string $contentType = self::contentTypes['getApiTokens'][0])
    {
        $request = $this->getApiTokensRequest($page, $items_per_page, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetApiTokens200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetApiTokens200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetApiTokens200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getApiTokensAsync
     *
     * User Api Tokens
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiTokens'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiTokensAsync($page = null, $items_per_page = null, string $contentType = self::contentTypes['getApiTokens'][0])
    {
        return $this->getApiTokensAsyncWithHttpInfo($page, $items_per_page, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getApiTokensAsyncWithHttpInfo
     *
     * User Api Tokens
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiTokens'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getApiTokensAsyncWithHttpInfo($page = null, $items_per_page = null, string $contentType = self::contentTypes['getApiTokens'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetApiTokens200Response';
        $request = $this->getApiTokensRequest($page, $items_per_page, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getApiTokens'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getApiTokens'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getApiTokensRequest($page = null, $items_per_page = null, string $contentType = self::contentTypes['getApiTokens'][0])
    {




        $resourcePath = '/external-api/v2/users/api_tokens';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getAppointment
     *
     * Appointment
     *
     * @param  int $id id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Appointment
     */
    public function getAppointment($id, string $contentType = self::contentTypes['getAppointment'][0])
    {
        list($response) = $this->getAppointmentWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getAppointmentWithHttpInfo
     *
     * Appointment
     *
     * @param  int $id id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Appointment, HTTP status code, HTTP response headers (array of strings)
     */
    public function getAppointmentWithHttpInfo($id, string $contentType = self::contentTypes['getAppointment'][0])
    {
        $request = $this->getAppointmentRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Appointment',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Appointment',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Appointment',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getAppointmentAsync
     *
     * Appointment
     *
     * @param  int $id id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAppointmentAsync($id, string $contentType = self::contentTypes['getAppointment'][0])
    {
        return $this->getAppointmentAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getAppointmentAsyncWithHttpInfo
     *
     * Appointment
     *
     * @param  int $id id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAppointmentAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getAppointment'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Appointment';
        $request = $this->getAppointmentRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getAppointment'
     *
     * @param  int $id id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getAppointmentRequest($id, string $contentType = self::contentTypes['getAppointment'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getAppointment'
            );
        }


        $resourcePath = '/external-api/v2/appointments/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getAppointments
     *
     * Appointments
     *
     * @param  string|null $sort_date sort_date (optional)
     * @param  \DateTime|null $date_from date_from (optional)
     * @param  \DateTime|null $date_to date_to (optional)
     * @param  int|null $service_contract_id service_contract_id (optional)
     * @param  string|null $service_contract_name service_contract_name (optional)
     * @param  string|null $status status (optional)
     * @param  bool|null $include_archived include archived appointments (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointments'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetAppointments200Response
     */
    public function getAppointments($sort_date = null, $date_from = null, $date_to = null, $service_contract_id = null, $service_contract_name = null, $status = null, $include_archived = null, string $contentType = self::contentTypes['getAppointments'][0])
    {
        list($response) = $this->getAppointmentsWithHttpInfo($sort_date, $date_from, $date_to, $service_contract_id, $service_contract_name, $status, $include_archived, $contentType);
        return $response;
    }

    /**
     * Operation getAppointmentsWithHttpInfo
     *
     * Appointments
     *
     * @param  string|null $sort_date (optional)
     * @param  \DateTime|null $date_from (optional)
     * @param  \DateTime|null $date_to (optional)
     * @param  int|null $service_contract_id (optional)
     * @param  string|null $service_contract_name (optional)
     * @param  string|null $status (optional)
     * @param  bool|null $include_archived include archived appointments (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointments'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetAppointments200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getAppointmentsWithHttpInfo($sort_date = null, $date_from = null, $date_to = null, $service_contract_id = null, $service_contract_name = null, $status = null, $include_archived = null, string $contentType = self::contentTypes['getAppointments'][0])
    {
        $request = $this->getAppointmentsRequest($sort_date, $date_from, $date_to, $service_contract_id, $service_contract_name, $status, $include_archived, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetAppointments200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetAppointments200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetAppointments200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getAppointmentsAsync
     *
     * Appointments
     *
     * @param  string|null $sort_date (optional)
     * @param  \DateTime|null $date_from (optional)
     * @param  \DateTime|null $date_to (optional)
     * @param  int|null $service_contract_id (optional)
     * @param  string|null $service_contract_name (optional)
     * @param  string|null $status (optional)
     * @param  bool|null $include_archived include archived appointments (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAppointmentsAsync($sort_date = null, $date_from = null, $date_to = null, $service_contract_id = null, $service_contract_name = null, $status = null, $include_archived = null, string $contentType = self::contentTypes['getAppointments'][0])
    {
        return $this->getAppointmentsAsyncWithHttpInfo($sort_date, $date_from, $date_to, $service_contract_id, $service_contract_name, $status, $include_archived, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getAppointmentsAsyncWithHttpInfo
     *
     * Appointments
     *
     * @param  string|null $sort_date (optional)
     * @param  \DateTime|null $date_from (optional)
     * @param  \DateTime|null $date_to (optional)
     * @param  int|null $service_contract_id (optional)
     * @param  string|null $service_contract_name (optional)
     * @param  string|null $status (optional)
     * @param  bool|null $include_archived include archived appointments (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAppointmentsAsyncWithHttpInfo($sort_date = null, $date_from = null, $date_to = null, $service_contract_id = null, $service_contract_name = null, $status = null, $include_archived = null, string $contentType = self::contentTypes['getAppointments'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetAppointments200Response';
        $request = $this->getAppointmentsRequest($sort_date, $date_from, $date_to, $service_contract_id, $service_contract_name, $status, $include_archived, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getAppointments'
     *
     * @param  string|null $sort_date (optional)
     * @param  \DateTime|null $date_from (optional)
     * @param  \DateTime|null $date_to (optional)
     * @param  int|null $service_contract_id (optional)
     * @param  string|null $service_contract_name (optional)
     * @param  string|null $status (optional)
     * @param  bool|null $include_archived include archived appointments (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAppointments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getAppointmentsRequest($sort_date = null, $date_from = null, $date_to = null, $service_contract_id = null, $service_contract_name = null, $status = null, $include_archived = null, string $contentType = self::contentTypes['getAppointments'][0])
    {









        $resourcePath = '/external-api/v2/appointments';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_date,
            'sort[date]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $date_from,
            'date[from]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $date_to,
            'date[to]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $service_contract_id,
            'serviceContractId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $service_contract_name,
            'serviceContractName', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $status,
            'status', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $include_archived,
            'includeArchived', // param base name
            'boolean', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getAttachment
     *
     * Attachment
     *
     * @param  int $id attachment id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAttachment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Attachment
     */
    public function getAttachment($id, string $contentType = self::contentTypes['getAttachment'][0])
    {
        list($response) = $this->getAttachmentWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getAttachmentWithHttpInfo
     *
     * Attachment
     *
     * @param  int $id attachment id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAttachment'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Attachment, HTTP status code, HTTP response headers (array of strings)
     */
    public function getAttachmentWithHttpInfo($id, string $contentType = self::contentTypes['getAttachment'][0])
    {
        $request = $this->getAttachmentRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Attachment',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Attachment',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Attachment',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getAttachmentAsync
     *
     * Attachment
     *
     * @param  int $id attachment id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAttachment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAttachmentAsync($id, string $contentType = self::contentTypes['getAttachment'][0])
    {
        return $this->getAttachmentAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getAttachmentAsyncWithHttpInfo
     *
     * Attachment
     *
     * @param  int $id attachment id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAttachment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getAttachmentAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getAttachment'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Attachment';
        $request = $this->getAttachmentRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getAttachment'
     *
     * @param  int $id attachment id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getAttachment'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getAttachmentRequest($id, string $contentType = self::contentTypes['getAttachment'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getAttachment'
            );
        }


        $resourcePath = '/external-api/v2/attachments/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getClientContract
     *
     * Client Contract
     *
     * @param  int $id identifiant du contrat client (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContract'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\ClientContract
     */
    public function getClientContract($id, string $contentType = self::contentTypes['getClientContract'][0])
    {
        list($response) = $this->getClientContractWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getClientContractWithHttpInfo
     *
     * Client Contract
     *
     * @param  int $id identifiant du contrat client (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContract'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\ClientContract, HTTP status code, HTTP response headers (array of strings)
     */
    public function getClientContractWithHttpInfo($id, string $contentType = self::contentTypes['getClientContract'][0])
    {
        $request = $this->getClientContractRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\ClientContract',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\ClientContract',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\ClientContract',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getClientContractAsync
     *
     * Client Contract
     *
     * @param  int $id identifiant du contrat client (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContract'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientContractAsync($id, string $contentType = self::contentTypes['getClientContract'][0])
    {
        return $this->getClientContractAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getClientContractAsyncWithHttpInfo
     *
     * Client Contract
     *
     * @param  int $id identifiant du contrat client (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContract'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientContractAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getClientContract'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\ClientContract';
        $request = $this->getClientContractRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getClientContract'
     *
     * @param  int $id identifiant du contrat client (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContract'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getClientContractRequest($id, string $contentType = self::contentTypes['getClientContract'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getClientContract'
            );
        }


        $resourcePath = '/external-api/v2/client_contracts/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getClientContracts
     *
     * Client Contracts
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string|null $sort_id sort_id (optional)
     * @param  string|null $sort_create_date sort_create_date (optional)
     * @param  int|null $client_legal_entity_id client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id legal_entity_id (optional)
     * @param  string|null $search search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContracts'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetClientContracts200Response
     */
    public function getClientContracts($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientContracts'][0])
    {
        list($response) = $this->getClientContractsWithHttpInfo($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $search, $contentType);
        return $response;
    }

    /**
     * Operation getClientContractsWithHttpInfo
     *
     * Client Contracts
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContracts'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetClientContracts200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getClientContractsWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientContracts'][0])
    {
        $request = $this->getClientContractsRequest($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $search, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetClientContracts200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetClientContracts200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetClientContracts200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getClientContractsAsync
     *
     * Client Contracts
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContracts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientContractsAsync($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientContracts'][0])
    {
        return $this->getClientContractsAsyncWithHttpInfo($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $search, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getClientContractsAsyncWithHttpInfo
     *
     * Client Contracts
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContracts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientContractsAsyncWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientContracts'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetClientContracts200Response';
        $request = $this->getClientContractsRequest($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $search, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getClientContracts'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientContracts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getClientContractsRequest($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientContracts'][0])
    {









        $resourcePath = '/external-api/v2/client_contracts';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_id,
            'sort[id]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_create_date,
            'sort[createDate]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_legal_entity_id,
            'clientLegalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legal_entity_id,
            'legalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $search,
            'search', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getClientLegalEntities
     *
     * Client legal entities
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string|null $sort_id sort_id (optional)
     * @param  int|null $legal_entity_id legal_entity_id (optional)
     * @param  string|null $search search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntities'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetClientLegalEntities200Response
     */
    public function getClientLegalEntities($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientLegalEntities'][0])
    {
        list($response) = $this->getClientLegalEntitiesWithHttpInfo($page, $items_per_page, $sort_id, $legal_entity_id, $search, $contentType);
        return $response;
    }

    /**
     * Operation getClientLegalEntitiesWithHttpInfo
     *
     * Client legal entities
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntities'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetClientLegalEntities200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getClientLegalEntitiesWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientLegalEntities'][0])
    {
        $request = $this->getClientLegalEntitiesRequest($page, $items_per_page, $sort_id, $legal_entity_id, $search, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetClientLegalEntities200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetClientLegalEntities200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetClientLegalEntities200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getClientLegalEntitiesAsync
     *
     * Client legal entities
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntities'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientLegalEntitiesAsync($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientLegalEntities'][0])
    {
        return $this->getClientLegalEntitiesAsyncWithHttpInfo($page, $items_per_page, $sort_id, $legal_entity_id, $search, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getClientLegalEntitiesAsyncWithHttpInfo
     *
     * Client legal entities
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntities'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientLegalEntitiesAsyncWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientLegalEntities'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetClientLegalEntities200Response';
        $request = $this->getClientLegalEntitiesRequest($page, $items_per_page, $sort_id, $legal_entity_id, $search, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getClientLegalEntities'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntities'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getClientLegalEntitiesRequest($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getClientLegalEntities'][0])
    {







        $resourcePath = '/external-api/v2/client_legal_entities';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_id,
            'sort[id]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legal_entity_id,
            'legalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $search,
            'search', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getClientLegalEntity
     *
     * Client legal entity
     *
     * @param  int $id identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntity'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\ClientLegalEntity
     */
    public function getClientLegalEntity($id, string $contentType = self::contentTypes['getClientLegalEntity'][0])
    {
        list($response) = $this->getClientLegalEntityWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getClientLegalEntityWithHttpInfo
     *
     * Client legal entity
     *
     * @param  int $id identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntity'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\ClientLegalEntity, HTTP status code, HTTP response headers (array of strings)
     */
    public function getClientLegalEntityWithHttpInfo($id, string $contentType = self::contentTypes['getClientLegalEntity'][0])
    {
        $request = $this->getClientLegalEntityRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\ClientLegalEntity',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\ClientLegalEntity',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\ClientLegalEntity',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getClientLegalEntityAsync
     *
     * Client legal entity
     *
     * @param  int $id identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntity'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientLegalEntityAsync($id, string $contentType = self::contentTypes['getClientLegalEntity'][0])
    {
        return $this->getClientLegalEntityAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getClientLegalEntityAsyncWithHttpInfo
     *
     * Client legal entity
     *
     * @param  int $id identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntity'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getClientLegalEntityAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getClientLegalEntity'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\ClientLegalEntity';
        $request = $this->getClientLegalEntityRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getClientLegalEntity'
     *
     * @param  int $id identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getClientLegalEntity'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getClientLegalEntityRequest($id, string $contentType = self::contentTypes['getClientLegalEntity'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getClientLegalEntity'
            );
        }


        $resourcePath = '/external-api/v2/client_legal_entities/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommentThread
     *
     * Comment thread
     *
     * @param  int $id thread id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThread'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CommentThread
     */
    public function getCommentThread($id, string $contentType = self::contentTypes['getCommentThread'][0])
    {
        list($response) = $this->getCommentThreadWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getCommentThreadWithHttpInfo
     *
     * Comment thread
     *
     * @param  int $id thread id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThread'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CommentThread, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommentThreadWithHttpInfo($id, string $contentType = self::contentTypes['getCommentThread'][0])
    {
        $request = $this->getCommentThreadRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CommentThread',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CommentThread',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CommentThread',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommentThreadAsync
     *
     * Comment thread
     *
     * @param  int $id thread id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThread'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommentThreadAsync($id, string $contentType = self::contentTypes['getCommentThread'][0])
    {
        return $this->getCommentThreadAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommentThreadAsyncWithHttpInfo
     *
     * Comment thread
     *
     * @param  int $id thread id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThread'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommentThreadAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getCommentThread'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CommentThread';
        $request = $this->getCommentThreadRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommentThread'
     *
     * @param  int $id thread id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThread'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommentThreadRequest($id, string $contentType = self::contentTypes['getCommentThread'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getCommentThread'
            );
        }


        $resourcePath = '/external-api/v2/comments/threads/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommentThreads
     *
     * Comment threads
     *
     * @param  string $entity_class thread linked entity class (required)
     * @param  int $entity_id thread linked entity id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThreads'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CommentThread[]
     */
    public function getCommentThreads($entity_class, $entity_id, string $contentType = self::contentTypes['getCommentThreads'][0])
    {
        list($response) = $this->getCommentThreadsWithHttpInfo($entity_class, $entity_id, $contentType);
        return $response;
    }

    /**
     * Operation getCommentThreadsWithHttpInfo
     *
     * Comment threads
     *
     * @param  string $entity_class thread linked entity class (required)
     * @param  int $entity_id thread linked entity id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThreads'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CommentThread[], HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommentThreadsWithHttpInfo($entity_class, $entity_id, string $contentType = self::contentTypes['getCommentThreads'][0])
    {
        $request = $this->getCommentThreadsRequest($entity_class, $entity_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CommentThread[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CommentThread[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CommentThread[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommentThreadsAsync
     *
     * Comment threads
     *
     * @param  string $entity_class thread linked entity class (required)
     * @param  int $entity_id thread linked entity id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThreads'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommentThreadsAsync($entity_class, $entity_id, string $contentType = self::contentTypes['getCommentThreads'][0])
    {
        return $this->getCommentThreadsAsyncWithHttpInfo($entity_class, $entity_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommentThreadsAsyncWithHttpInfo
     *
     * Comment threads
     *
     * @param  string $entity_class thread linked entity class (required)
     * @param  int $entity_id thread linked entity id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThreads'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommentThreadsAsyncWithHttpInfo($entity_class, $entity_id, string $contentType = self::contentTypes['getCommentThreads'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CommentThread[]';
        $request = $this->getCommentThreadsRequest($entity_class, $entity_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommentThreads'
     *
     * @param  string $entity_class thread linked entity class (required)
     * @param  int $entity_id thread linked entity id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommentThreads'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommentThreadsRequest($entity_class, $entity_id, string $contentType = self::contentTypes['getCommentThreads'][0])
    {

        // verify the required parameter 'entity_class' is set
        if ($entity_class === null || (is_array($entity_class) && count($entity_class) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $entity_class when calling getCommentThreads'
            );
        }

        // verify the required parameter 'entity_id' is set
        if ($entity_id === null || (is_array($entity_id) && count($entity_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $entity_id when calling getCommentThreads'
            );
        }


        $resourcePath = '/external-api/v2/comments/threads';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $entity_class,
            'entityClass', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $entity_id,
            'entityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommercialOffer
     *
     * Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CommercialOffer
     */
    public function getCommercialOffer($id, string $contentType = self::contentTypes['getCommercialOffer'][0])
    {
        list($response) = $this->getCommercialOfferWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getCommercialOfferWithHttpInfo
     *
     * Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CommercialOffer, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommercialOfferWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOffer'][0])
    {
        $request = $this->getCommercialOfferRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CommercialOffer',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CommercialOffer',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CommercialOffer',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommercialOfferAsync
     *
     * Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferAsync($id, string $contentType = self::contentTypes['getCommercialOffer'][0])
    {
        return $this->getCommercialOfferAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommercialOfferAsyncWithHttpInfo
     *
     * Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOffer'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CommercialOffer';
        $request = $this->getCommercialOfferRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommercialOffer'
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommercialOfferRequest($id, string $contentType = self::contentTypes['getCommercialOffer'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getCommercialOffer'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommercialOfferByName
     *
     * Commercial Offer by reference CPTXXXXXX, CPIXXXXXX
     *
     * @param  string $offer_name commercial offer name string (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferByName'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CommercialOffer
     */
    public function getCommercialOfferByName($offer_name, string $contentType = self::contentTypes['getCommercialOfferByName'][0])
    {
        list($response) = $this->getCommercialOfferByNameWithHttpInfo($offer_name, $contentType);
        return $response;
    }

    /**
     * Operation getCommercialOfferByNameWithHttpInfo
     *
     * Commercial Offer by reference CPTXXXXXX, CPIXXXXXX
     *
     * @param  string $offer_name commercial offer name string (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferByName'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CommercialOffer, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommercialOfferByNameWithHttpInfo($offer_name, string $contentType = self::contentTypes['getCommercialOfferByName'][0])
    {
        $request = $this->getCommercialOfferByNameRequest($offer_name, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CommercialOffer',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CommercialOffer',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CommercialOffer',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommercialOfferByNameAsync
     *
     * Commercial Offer by reference CPTXXXXXX, CPIXXXXXX
     *
     * @param  string $offer_name commercial offer name string (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferByNameAsync($offer_name, string $contentType = self::contentTypes['getCommercialOfferByName'][0])
    {
        return $this->getCommercialOfferByNameAsyncWithHttpInfo($offer_name, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommercialOfferByNameAsyncWithHttpInfo
     *
     * Commercial Offer by reference CPTXXXXXX, CPIXXXXXX
     *
     * @param  string $offer_name commercial offer name string (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferByNameAsyncWithHttpInfo($offer_name, string $contentType = self::contentTypes['getCommercialOfferByName'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CommercialOffer';
        $request = $this->getCommercialOfferByNameRequest($offer_name, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommercialOfferByName'
     *
     * @param  string $offer_name commercial offer name string (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommercialOfferByNameRequest($offer_name, string $contentType = self::contentTypes['getCommercialOfferByName'][0])
    {

        // verify the required parameter 'offer_name' is set
        if ($offer_name === null || (is_array($offer_name) && count($offer_name) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $offer_name when calling getCommercialOfferByName'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers_by_name/{offer_name}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($offer_name !== null) {
            $resourcePath = str_replace(
                '{' . 'offer_name' . '}',
                ObjectSerializer::toPathValue($offer_name),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommercialOfferItem
     *
     * Commercial Offer Item
     *
     * @param  int $id commercial offer item identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferItem'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CommercialOfferItem
     */
    public function getCommercialOfferItem($id, string $contentType = self::contentTypes['getCommercialOfferItem'][0])
    {
        list($response) = $this->getCommercialOfferItemWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getCommercialOfferItemWithHttpInfo
     *
     * Commercial Offer Item
     *
     * @param  int $id commercial offer item identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferItem'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CommercialOfferItem, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommercialOfferItemWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOfferItem'][0])
    {
        $request = $this->getCommercialOfferItemRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CommercialOfferItem',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CommercialOfferItem',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CommercialOfferItem',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommercialOfferItemAsync
     *
     * Commercial Offer Item
     *
     * @param  int $id commercial offer item identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferItem'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferItemAsync($id, string $contentType = self::contentTypes['getCommercialOfferItem'][0])
    {
        return $this->getCommercialOfferItemAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommercialOfferItemAsyncWithHttpInfo
     *
     * Commercial Offer Item
     *
     * @param  int $id commercial offer item identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferItem'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferItemAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOfferItem'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CommercialOfferItem';
        $request = $this->getCommercialOfferItemRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommercialOfferItem'
     *
     * @param  int $id commercial offer item identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferItem'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommercialOfferItemRequest($id, string $contentType = self::contentTypes['getCommercialOfferItem'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getCommercialOfferItem'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offer_items/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommercialOfferPdf
     *
     * Commercial Offer PDF
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferPdf'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \SplFileObject
     */
    public function getCommercialOfferPdf($id, string $contentType = self::contentTypes['getCommercialOfferPdf'][0])
    {
        list($response) = $this->getCommercialOfferPdfWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getCommercialOfferPdfWithHttpInfo
     *
     * Commercial Offer PDF
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferPdf'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \SplFileObject, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommercialOfferPdfWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOfferPdf'][0])
    {
        $request = $this->getCommercialOfferPdfRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\SplFileObject',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\SplFileObject',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\SplFileObject',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommercialOfferPdfAsync
     *
     * Commercial Offer PDF
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferPdf'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferPdfAsync($id, string $contentType = self::contentTypes['getCommercialOfferPdf'][0])
    {
        return $this->getCommercialOfferPdfAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommercialOfferPdfAsyncWithHttpInfo
     *
     * Commercial Offer PDF
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferPdf'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferPdfAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOfferPdf'][0])
    {
        $returnType = '\SplFileObject';
        $request = $this->getCommercialOfferPdfRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommercialOfferPdf'
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferPdf'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommercialOfferPdfRequest($id, string $contentType = self::contentTypes['getCommercialOfferPdf'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getCommercialOfferPdf'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}/pdf';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/pdf', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommercialOfferSection
     *
     * Commercial Offer Section
     *
     * @param  int $id commercial offer section identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CommercialOfferSection
     */
    public function getCommercialOfferSection($id, string $contentType = self::contentTypes['getCommercialOfferSection'][0])
    {
        list($response) = $this->getCommercialOfferSectionWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getCommercialOfferSectionWithHttpInfo
     *
     * Commercial Offer Section
     *
     * @param  int $id commercial offer section identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CommercialOfferSection, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommercialOfferSectionWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOfferSection'][0])
    {
        $request = $this->getCommercialOfferSectionRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CommercialOfferSection',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CommercialOfferSection',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CommercialOfferSection',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommercialOfferSectionAsync
     *
     * Commercial Offer Section
     *
     * @param  int $id commercial offer section identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferSectionAsync($id, string $contentType = self::contentTypes['getCommercialOfferSection'][0])
    {
        return $this->getCommercialOfferSectionAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommercialOfferSectionAsyncWithHttpInfo
     *
     * Commercial Offer Section
     *
     * @param  int $id commercial offer section identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOfferSectionAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getCommercialOfferSection'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CommercialOfferSection';
        $request = $this->getCommercialOfferSectionRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommercialOfferSection'
     *
     * @param  int $id commercial offer section identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommercialOfferSectionRequest($id, string $contentType = self::contentTypes['getCommercialOfferSection'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getCommercialOfferSection'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offer_sections/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCommercialOffers
     *
     * Commercial Offers
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string|null $sort_id sort_id (optional)
     * @param  string|null $sort_create_date sort_create_date (optional)
     * @param  int|null $legal_entity_id legal_entity_id (optional)
     * @param  int|null $client_legal_entity_id client_legal_entity_id (optional)
     * @param  int|null $sections_offer_id sections_offer_id (optional)
     * @param  string|null $status status (optional)
     * @param  \DateTime|null $create_date_from create_date_from (optional)
     * @param  \DateTime|null $create_date_to create_date_to (optional)
     * @param  string|null $search search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffers'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetCommercialOffers200Response
     */
    public function getCommercialOffers($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $legal_entity_id = null, $client_legal_entity_id = null, $sections_offer_id = null, $status = null, $create_date_from = null, $create_date_to = null, $search = null, string $contentType = self::contentTypes['getCommercialOffers'][0])
    {
        list($response) = $this->getCommercialOffersWithHttpInfo($page, $items_per_page, $sort_id, $sort_create_date, $legal_entity_id, $client_legal_entity_id, $sections_offer_id, $status, $create_date_from, $create_date_to, $search, $contentType);
        return $response;
    }

    /**
     * Operation getCommercialOffersWithHttpInfo
     *
     * Commercial Offers
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $sections_offer_id (optional)
     * @param  string|null $status (optional)
     * @param  \DateTime|null $create_date_from (optional)
     * @param  \DateTime|null $create_date_to (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffers'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetCommercialOffers200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCommercialOffersWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $legal_entity_id = null, $client_legal_entity_id = null, $sections_offer_id = null, $status = null, $create_date_from = null, $create_date_to = null, $search = null, string $contentType = self::contentTypes['getCommercialOffers'][0])
    {
        $request = $this->getCommercialOffersRequest($page, $items_per_page, $sort_id, $sort_create_date, $legal_entity_id, $client_legal_entity_id, $sections_offer_id, $status, $create_date_from, $create_date_to, $search, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetCommercialOffers200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetCommercialOffers200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetCommercialOffers200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCommercialOffersAsync
     *
     * Commercial Offers
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $sections_offer_id (optional)
     * @param  string|null $status (optional)
     * @param  \DateTime|null $create_date_from (optional)
     * @param  \DateTime|null $create_date_to (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOffersAsync($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $legal_entity_id = null, $client_legal_entity_id = null, $sections_offer_id = null, $status = null, $create_date_from = null, $create_date_to = null, $search = null, string $contentType = self::contentTypes['getCommercialOffers'][0])
    {
        return $this->getCommercialOffersAsyncWithHttpInfo($page, $items_per_page, $sort_id, $sort_create_date, $legal_entity_id, $client_legal_entity_id, $sections_offer_id, $status, $create_date_from, $create_date_to, $search, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCommercialOffersAsyncWithHttpInfo
     *
     * Commercial Offers
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $sections_offer_id (optional)
     * @param  string|null $status (optional)
     * @param  \DateTime|null $create_date_from (optional)
     * @param  \DateTime|null $create_date_to (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCommercialOffersAsyncWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $legal_entity_id = null, $client_legal_entity_id = null, $sections_offer_id = null, $status = null, $create_date_from = null, $create_date_to = null, $search = null, string $contentType = self::contentTypes['getCommercialOffers'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetCommercialOffers200Response';
        $request = $this->getCommercialOffersRequest($page, $items_per_page, $sort_id, $sort_create_date, $legal_entity_id, $client_legal_entity_id, $sections_offer_id, $status, $create_date_from, $create_date_to, $search, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCommercialOffers'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $sections_offer_id (optional)
     * @param  string|null $status (optional)
     * @param  \DateTime|null $create_date_from (optional)
     * @param  \DateTime|null $create_date_to (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCommercialOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCommercialOffersRequest($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $legal_entity_id = null, $client_legal_entity_id = null, $sections_offer_id = null, $status = null, $create_date_from = null, $create_date_to = null, $search = null, string $contentType = self::contentTypes['getCommercialOffers'][0])
    {













        $resourcePath = '/external-api/v2/commercial_offers';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_id,
            'sort[id]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_create_date,
            'sort[createDate]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legal_entity_id,
            'legalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_legal_entity_id,
            'clientLegalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sections_offer_id,
            'sections.offerId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $status,
            'status', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $create_date_from,
            'createDate[from]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $create_date_to,
            'createDate[to]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $search,
            'search', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getCurrentUser
     *
     * User
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCurrentUser'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\User
     */
    public function getCurrentUser(string $contentType = self::contentTypes['getCurrentUser'][0])
    {
        list($response) = $this->getCurrentUserWithHttpInfo($contentType);
        return $response;
    }

    /**
     * Operation getCurrentUserWithHttpInfo
     *
     * User
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCurrentUser'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\User, HTTP status code, HTTP response headers (array of strings)
     */
    public function getCurrentUserWithHttpInfo(string $contentType = self::contentTypes['getCurrentUser'][0])
    {
        $request = $this->getCurrentUserRequest($contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\User',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\User',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\User',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getCurrentUserAsync
     *
     * User
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCurrentUser'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCurrentUserAsync(string $contentType = self::contentTypes['getCurrentUser'][0])
    {
        return $this->getCurrentUserAsyncWithHttpInfo($contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getCurrentUserAsyncWithHttpInfo
     *
     * User
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCurrentUser'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getCurrentUserAsyncWithHttpInfo(string $contentType = self::contentTypes['getCurrentUser'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\User';
        $request = $this->getCurrentUserRequest($contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getCurrentUser'
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getCurrentUser'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getCurrentUserRequest(string $contentType = self::contentTypes['getCurrentUser'][0])
    {


        $resourcePath = '/external-api/v2/user';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;





        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getEligibility
     *
     * Get Eligibility
     *
     * @param  int $id process identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibility'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetEligibility
     */
    public function getEligibility($id, string $contentType = self::contentTypes['getEligibility'][0])
    {
        list($response) = $this->getEligibilityWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getEligibilityWithHttpInfo
     *
     * Get Eligibility
     *
     * @param  int $id process identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibility'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetEligibility, HTTP status code, HTTP response headers (array of strings)
     */
    public function getEligibilityWithHttpInfo($id, string $contentType = self::contentTypes['getEligibility'][0])
    {
        $request = $this->getEligibilityRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetEligibility',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetEligibility',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetEligibility',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getEligibilityAsync
     *
     * Get Eligibility
     *
     * @param  int $id process identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibility'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getEligibilityAsync($id, string $contentType = self::contentTypes['getEligibility'][0])
    {
        return $this->getEligibilityAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getEligibilityAsyncWithHttpInfo
     *
     * Get Eligibility
     *
     * @param  int $id process identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibility'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getEligibilityAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getEligibility'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetEligibility';
        $request = $this->getEligibilityRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getEligibility'
     *
     * @param  int $id process identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibility'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getEligibilityRequest($id, string $contentType = self::contentTypes['getEligibility'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getEligibility'
            );
        }


        $resourcePath = '/external-api/v2/eligibility/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getEligibilityBasedOfferContextsShortened
     *
     * Eligibility Based Offer Contexts
     *
     * @param  int $id id (required)
     * @param  bool|null $legacy legacy (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibilityBasedOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\EligibilityBasedOfferContextShortened[]
     */
    public function getEligibilityBasedOfferContextsShortened($id, $legacy = null, string $contentType = self::contentTypes['getEligibilityBasedOfferContextsShortened'][0])
    {
        list($response) = $this->getEligibilityBasedOfferContextsShortenedWithHttpInfo($id, $legacy, $contentType);
        return $response;
    }

    /**
     * Operation getEligibilityBasedOfferContextsShortenedWithHttpInfo
     *
     * Eligibility Based Offer Contexts
     *
     * @param  int $id (required)
     * @param  bool|null $legacy (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibilityBasedOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\EligibilityBasedOfferContextShortened[], HTTP status code, HTTP response headers (array of strings)
     */
    public function getEligibilityBasedOfferContextsShortenedWithHttpInfo($id, $legacy = null, string $contentType = self::contentTypes['getEligibilityBasedOfferContextsShortened'][0])
    {
        $request = $this->getEligibilityBasedOfferContextsShortenedRequest($id, $legacy, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\EligibilityBasedOfferContextShortened[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\EligibilityBasedOfferContextShortened[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\EligibilityBasedOfferContextShortened[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getEligibilityBasedOfferContextsShortenedAsync
     *
     * Eligibility Based Offer Contexts
     *
     * @param  int $id (required)
     * @param  bool|null $legacy (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibilityBasedOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getEligibilityBasedOfferContextsShortenedAsync($id, $legacy = null, string $contentType = self::contentTypes['getEligibilityBasedOfferContextsShortened'][0])
    {
        return $this->getEligibilityBasedOfferContextsShortenedAsyncWithHttpInfo($id, $legacy, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getEligibilityBasedOfferContextsShortenedAsyncWithHttpInfo
     *
     * Eligibility Based Offer Contexts
     *
     * @param  int $id (required)
     * @param  bool|null $legacy (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibilityBasedOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getEligibilityBasedOfferContextsShortenedAsyncWithHttpInfo($id, $legacy = null, string $contentType = self::contentTypes['getEligibilityBasedOfferContextsShortened'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\EligibilityBasedOfferContextShortened[]';
        $request = $this->getEligibilityBasedOfferContextsShortenedRequest($id, $legacy, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getEligibilityBasedOfferContextsShortened'
     *
     * @param  int $id (required)
     * @param  bool|null $legacy (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEligibilityBasedOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getEligibilityBasedOfferContextsShortenedRequest($id, $legacy = null, string $contentType = self::contentTypes['getEligibilityBasedOfferContextsShortened'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getEligibilityBasedOfferContextsShortened'
            );
        }



        $resourcePath = '/external-api/v2/eligibility/{id}/contexts/shortened';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legacy,
            'legacy', // param base name
            'boolean', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getEntityAttachments
     *
     * Attachements entity
     *
     * @param  int $entity_id attached entity id (required)
     * @param  string $entity_type attached entity type (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEntityAttachments'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetPublicAttachments200Response
     */
    public function getEntityAttachments($entity_id, $entity_type, string $contentType = self::contentTypes['getEntityAttachments'][0])
    {
        list($response) = $this->getEntityAttachmentsWithHttpInfo($entity_id, $entity_type, $contentType);
        return $response;
    }

    /**
     * Operation getEntityAttachmentsWithHttpInfo
     *
     * Attachements entity
     *
     * @param  int $entity_id attached entity id (required)
     * @param  string $entity_type attached entity type (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEntityAttachments'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetPublicAttachments200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getEntityAttachmentsWithHttpInfo($entity_id, $entity_type, string $contentType = self::contentTypes['getEntityAttachments'][0])
    {
        $request = $this->getEntityAttachmentsRequest($entity_id, $entity_type, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getEntityAttachmentsAsync
     *
     * Attachements entity
     *
     * @param  int $entity_id attached entity id (required)
     * @param  string $entity_type attached entity type (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEntityAttachments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getEntityAttachmentsAsync($entity_id, $entity_type, string $contentType = self::contentTypes['getEntityAttachments'][0])
    {
        return $this->getEntityAttachmentsAsyncWithHttpInfo($entity_id, $entity_type, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getEntityAttachmentsAsyncWithHttpInfo
     *
     * Attachements entity
     *
     * @param  int $entity_id attached entity id (required)
     * @param  string $entity_type attached entity type (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEntityAttachments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getEntityAttachmentsAsyncWithHttpInfo($entity_id, $entity_type, string $contentType = self::contentTypes['getEntityAttachments'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response';
        $request = $this->getEntityAttachmentsRequest($entity_id, $entity_type, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getEntityAttachments'
     *
     * @param  int $entity_id attached entity id (required)
     * @param  string $entity_type attached entity type (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getEntityAttachments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getEntityAttachmentsRequest($entity_id, $entity_type, string $contentType = self::contentTypes['getEntityAttachments'][0])
    {

        // verify the required parameter 'entity_id' is set
        if ($entity_id === null || (is_array($entity_id) && count($entity_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $entity_id when calling getEntityAttachments'
            );
        }

        // verify the required parameter 'entity_type' is set
        if ($entity_type === null || (is_array($entity_type) && count($entity_type) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $entity_type when calling getEntityAttachments'
            );
        }


        $resourcePath = '/external-api/v2/attachments';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $entity_id,
            'entityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $entity_type,
            'entityType', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getInvoice
     *
     * Invoice
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoice'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Invoice
     */
    public function getInvoice($id, string $contentType = self::contentTypes['getInvoice'][0])
    {
        list($response) = $this->getInvoiceWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getInvoiceWithHttpInfo
     *
     * Invoice
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoice'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Invoice, HTTP status code, HTTP response headers (array of strings)
     */
    public function getInvoiceWithHttpInfo($id, string $contentType = self::contentTypes['getInvoice'][0])
    {
        $request = $this->getInvoiceRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Invoice',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Invoice',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Invoice',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getInvoiceAsync
     *
     * Invoice
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoice'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoiceAsync($id, string $contentType = self::contentTypes['getInvoice'][0])
    {
        return $this->getInvoiceAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getInvoiceAsyncWithHttpInfo
     *
     * Invoice
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoice'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoiceAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getInvoice'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Invoice';
        $request = $this->getInvoiceRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getInvoice'
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoice'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getInvoiceRequest($id, string $contentType = self::contentTypes['getInvoice'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getInvoice'
            );
        }


        $resourcePath = '/external-api/v2/invoices/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getInvoiceDetail
     *
     * Invoice Detail
     *
     * @param  int $id invoice detail identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoiceDetail'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\InvoiceDetail
     */
    public function getInvoiceDetail($id, string $contentType = self::contentTypes['getInvoiceDetail'][0])
    {
        list($response) = $this->getInvoiceDetailWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getInvoiceDetailWithHttpInfo
     *
     * Invoice Detail
     *
     * @param  int $id invoice detail identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoiceDetail'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\InvoiceDetail, HTTP status code, HTTP response headers (array of strings)
     */
    public function getInvoiceDetailWithHttpInfo($id, string $contentType = self::contentTypes['getInvoiceDetail'][0])
    {
        $request = $this->getInvoiceDetailRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\InvoiceDetail',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\InvoiceDetail',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\InvoiceDetail',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getInvoiceDetailAsync
     *
     * Invoice Detail
     *
     * @param  int $id invoice detail identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoiceDetail'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoiceDetailAsync($id, string $contentType = self::contentTypes['getInvoiceDetail'][0])
    {
        return $this->getInvoiceDetailAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getInvoiceDetailAsyncWithHttpInfo
     *
     * Invoice Detail
     *
     * @param  int $id invoice detail identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoiceDetail'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoiceDetailAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getInvoiceDetail'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\InvoiceDetail';
        $request = $this->getInvoiceDetailRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getInvoiceDetail'
     *
     * @param  int $id invoice detail identifier (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoiceDetail'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getInvoiceDetailRequest($id, string $contentType = self::contentTypes['getInvoiceDetail'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getInvoiceDetail'
            );
        }


        $resourcePath = '/external-api/v2/invoice_details/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getInvoicePdf
     *
     * Invoice Pdf
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoicePdf'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \SplFileObject
     */
    public function getInvoicePdf($id, string $contentType = self::contentTypes['getInvoicePdf'][0])
    {
        list($response) = $this->getInvoicePdfWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getInvoicePdfWithHttpInfo
     *
     * Invoice Pdf
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoicePdf'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \SplFileObject, HTTP status code, HTTP response headers (array of strings)
     */
    public function getInvoicePdfWithHttpInfo($id, string $contentType = self::contentTypes['getInvoicePdf'][0])
    {
        $request = $this->getInvoicePdfRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\SplFileObject',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\SplFileObject',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\SplFileObject',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getInvoicePdfAsync
     *
     * Invoice Pdf
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoicePdf'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoicePdfAsync($id, string $contentType = self::contentTypes['getInvoicePdf'][0])
    {
        return $this->getInvoicePdfAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getInvoicePdfAsyncWithHttpInfo
     *
     * Invoice Pdf
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoicePdf'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoicePdfAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getInvoicePdf'][0])
    {
        $returnType = '\SplFileObject';
        $request = $this->getInvoicePdfRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getInvoicePdf'
     *
     * @param  int $id identifiant de la facture (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoicePdf'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getInvoicePdfRequest($id, string $contentType = self::contentTypes['getInvoicePdf'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getInvoicePdf'
            );
        }


        $resourcePath = '/external-api/v2/invoices/{id}/pdf';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/pdf', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getInvoices
     *
     * Invoices
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string|null $sort_id sort_id (optional)
     * @param  string|null $sort_create_date sort_create_date (optional)
     * @param  int|null $client_legal_entity_id client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id legal_entity_id (optional)
     * @param  int|null $month month (optional)
     * @param  int|null $year year (optional)
     * @param  string|null $search search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoices'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetInvoices200Response
     */
    public function getInvoices($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $month = null, $year = null, $search = null, string $contentType = self::contentTypes['getInvoices'][0])
    {
        list($response) = $this->getInvoicesWithHttpInfo($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $month, $year, $search, $contentType);
        return $response;
    }

    /**
     * Operation getInvoicesWithHttpInfo
     *
     * Invoices
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $month (optional)
     * @param  int|null $year (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoices'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetInvoices200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getInvoicesWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $month = null, $year = null, $search = null, string $contentType = self::contentTypes['getInvoices'][0])
    {
        $request = $this->getInvoicesRequest($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $month, $year, $search, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetInvoices200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetInvoices200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetInvoices200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getInvoicesAsync
     *
     * Invoices
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $month (optional)
     * @param  int|null $year (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoices'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoicesAsync($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $month = null, $year = null, $search = null, string $contentType = self::contentTypes['getInvoices'][0])
    {
        return $this->getInvoicesAsyncWithHttpInfo($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $month, $year, $search, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getInvoicesAsyncWithHttpInfo
     *
     * Invoices
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $month (optional)
     * @param  int|null $year (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoices'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getInvoicesAsyncWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $month = null, $year = null, $search = null, string $contentType = self::contentTypes['getInvoices'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetInvoices200Response';
        $request = $this->getInvoicesRequest($page, $items_per_page, $sort_id, $sort_create_date, $client_legal_entity_id, $legal_entity_id, $month, $year, $search, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getInvoices'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_create_date (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $month (optional)
     * @param  int|null $year (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getInvoices'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getInvoicesRequest($page = null, $items_per_page = null, $sort_id = null, $sort_create_date = null, $client_legal_entity_id = null, $legal_entity_id = null, $month = null, $year = null, $search = null, string $contentType = self::contentTypes['getInvoices'][0])
    {











        $resourcePath = '/external-api/v2/invoices';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_id,
            'sort[id]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_create_date,
            'sort[createDate]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_legal_entity_id,
            'clientLegalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legal_entity_id,
            'legalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $month,
            'month', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $year,
            'year', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $search,
            'search', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getLegalEntities
     *
     * Legal entities
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string|null $sort_id sort_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntities'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetLegalEntities200Response
     */
    public function getLegalEntities($page = null, $items_per_page = null, $sort_id = null, string $contentType = self::contentTypes['getLegalEntities'][0])
    {
        list($response) = $this->getLegalEntitiesWithHttpInfo($page, $items_per_page, $sort_id, $contentType);
        return $response;
    }

    /**
     * Operation getLegalEntitiesWithHttpInfo
     *
     * Legal entities
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntities'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetLegalEntities200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getLegalEntitiesWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, string $contentType = self::contentTypes['getLegalEntities'][0])
    {
        $request = $this->getLegalEntitiesRequest($page, $items_per_page, $sort_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetLegalEntities200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetLegalEntities200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetLegalEntities200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getLegalEntitiesAsync
     *
     * Legal entities
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntities'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getLegalEntitiesAsync($page = null, $items_per_page = null, $sort_id = null, string $contentType = self::contentTypes['getLegalEntities'][0])
    {
        return $this->getLegalEntitiesAsyncWithHttpInfo($page, $items_per_page, $sort_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getLegalEntitiesAsyncWithHttpInfo
     *
     * Legal entities
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntities'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getLegalEntitiesAsyncWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, string $contentType = self::contentTypes['getLegalEntities'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetLegalEntities200Response';
        $request = $this->getLegalEntitiesRequest($page, $items_per_page, $sort_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getLegalEntities'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntities'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getLegalEntitiesRequest($page = null, $items_per_page = null, $sort_id = null, string $contentType = self::contentTypes['getLegalEntities'][0])
    {





        $resourcePath = '/external-api/v2/legal_entities';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_id,
            'sort[id]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getLegalEntity
     *
     * Legal entity
     *
     * @param  int $id identifiant de la société (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntity'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\LegalEntity
     */
    public function getLegalEntity($id, string $contentType = self::contentTypes['getLegalEntity'][0])
    {
        list($response) = $this->getLegalEntityWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getLegalEntityWithHttpInfo
     *
     * Legal entity
     *
     * @param  int $id identifiant de la société (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntity'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\LegalEntity, HTTP status code, HTTP response headers (array of strings)
     */
    public function getLegalEntityWithHttpInfo($id, string $contentType = self::contentTypes['getLegalEntity'][0])
    {
        $request = $this->getLegalEntityRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\LegalEntity',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\LegalEntity',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\LegalEntity',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getLegalEntityAsync
     *
     * Legal entity
     *
     * @param  int $id identifiant de la société (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntity'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getLegalEntityAsync($id, string $contentType = self::contentTypes['getLegalEntity'][0])
    {
        return $this->getLegalEntityAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getLegalEntityAsyncWithHttpInfo
     *
     * Legal entity
     *
     * @param  int $id identifiant de la société (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntity'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getLegalEntityAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getLegalEntity'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\LegalEntity';
        $request = $this->getLegalEntityRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getLegalEntity'
     *
     * @param  int $id identifiant de la société (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getLegalEntity'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getLegalEntityRequest($id, string $contentType = self::contentTypes['getLegalEntity'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getLegalEntity'
            );
        }


        $resourcePath = '/external-api/v2/legal_entities/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getOfferContext
     *
     * Offers Context
     *
     * @param  int $id id (required)
     * @param  int $price_list price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance distance for L2 basic offer (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContext'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\OfferContext
     */
    public function getOfferContext($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContext'][0])
    {
        list($response) = $this->getOfferContextWithHttpInfo($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);
        return $response;
    }

    /**
     * Operation getOfferContextWithHttpInfo
     *
     * Offers Context
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance distance for L2 basic offer (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContext'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\OfferContext, HTTP status code, HTTP response headers (array of strings)
     */
    public function getOfferContextWithHttpInfo($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContext'][0])
    {
        $request = $this->getOfferContextRequest($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\OfferContext',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\OfferContext',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\OfferContext',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getOfferContextAsync
     *
     * Offers Context
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance distance for L2 basic offer (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContext'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOfferContextAsync($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContext'][0])
    {
        return $this->getOfferContextAsyncWithHttpInfo($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getOfferContextAsyncWithHttpInfo
     *
     * Offers Context
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance distance for L2 basic offer (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContext'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOfferContextAsyncWithHttpInfo($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContext'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\OfferContext';
        $request = $this->getOfferContextRequest($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getOfferContext'
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance distance for L2 basic offer (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContext'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getOfferContextRequest($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContext'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getOfferContext'
            );
        }

        // verify the required parameter 'price_list' is set
        if ($price_list === null || (is_array($price_list) && count($price_list) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $price_list when calling getOfferContext'
            );
        }








        $resourcePath = '/external-api/v2/offers/{id}/context';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $price_list,
            'priceList', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $groups,
            'groups[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $autofill_offer,
            'autofillOffer', // param base name
            'boolean', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items,
            'items[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $distance,
            'distance', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_contract,
            'clientContract', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $zip_code,
            'zipCode', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getOfferContexts
     *
     * Offers Contexts
     *
     * @param  int $id id (required)
     * @param  int $price_list price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContexts'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\OfferContext[]
     */
    public function getOfferContexts($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContexts'][0])
    {
        list($response) = $this->getOfferContextsWithHttpInfo($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);
        return $response;
    }

    /**
     * Operation getOfferContextsWithHttpInfo
     *
     * Offers Contexts
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContexts'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\OfferContext[], HTTP status code, HTTP response headers (array of strings)
     */
    public function getOfferContextsWithHttpInfo($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContexts'][0])
    {
        $request = $this->getOfferContextsRequest($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\OfferContext[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\OfferContext[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\OfferContext[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getOfferContextsAsync
     *
     * Offers Contexts
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContexts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOfferContextsAsync($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContexts'][0])
    {
        return $this->getOfferContextsAsyncWithHttpInfo($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getOfferContextsAsyncWithHttpInfo
     *
     * Offers Contexts
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContexts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOfferContextsAsyncWithHttpInfo($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContexts'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\OfferContext[]';
        $request = $this->getOfferContextsRequest($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getOfferContexts'
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContexts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getOfferContextsRequest($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContexts'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getOfferContexts'
            );
        }

        // verify the required parameter 'price_list' is set
        if ($price_list === null || (is_array($price_list) && count($price_list) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $price_list when calling getOfferContexts'
            );
        }








        $resourcePath = '/external-api/v2/offers/{id}/contexts';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $price_list,
            'priceList', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $groups,
            'groups[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $autofill_offer,
            'autofillOffer', // param base name
            'boolean', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items,
            'items[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $distance,
            'distance', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_contract,
            'clientContract', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $zip_code,
            'zipCode', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getOfferContextsShortened
     *
     * Offers Contexts
     *
     * @param  int $id id (required)
     * @param  int $price_list price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\OfferContextShortened[]
     */
    public function getOfferContextsShortened($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContextsShortened'][0])
    {
        list($response) = $this->getOfferContextsShortenedWithHttpInfo($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);
        return $response;
    }

    /**
     * Operation getOfferContextsShortenedWithHttpInfo
     *
     * Offers Contexts
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\OfferContextShortened[], HTTP status code, HTTP response headers (array of strings)
     */
    public function getOfferContextsShortenedWithHttpInfo($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContextsShortened'][0])
    {
        $request = $this->getOfferContextsShortenedRequest($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\OfferContextShortened[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\OfferContextShortened[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\OfferContextShortened[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getOfferContextsShortenedAsync
     *
     * Offers Contexts
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOfferContextsShortenedAsync($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContextsShortened'][0])
    {
        return $this->getOfferContextsShortenedAsyncWithHttpInfo($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getOfferContextsShortenedAsyncWithHttpInfo
     *
     * Offers Contexts
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOfferContextsShortenedAsyncWithHttpInfo($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContextsShortened'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\OfferContextShortened[]';
        $request = $this->getOfferContextsShortenedRequest($id, $price_list, $groups, $autofill_offer, $items, $distance, $client_contract, $zip_code, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getOfferContextsShortened'
     *
     * @param  int $id (required)
     * @param  int $price_list (required)
     * @param  string[]|null $groups group list (e.g. bandwith, commitment, ...) (optional)
     * @param  bool|null $autofill_offer add default products for each missing required groups to get a valid offer (optional)
     * @param  int[]|null $items determined items id to avoid combination with (e.g. FAS which are determined during eligibility) (optional)
     * @param  int|null $distance estimate of the extension of our network to be built (optional)
     * @param  int|null $client_contract client contract id (optional)
     * @param  string|null $zip_code zip code (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOfferContextsShortened'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getOfferContextsShortenedRequest($id, $price_list, $groups = null, $autofill_offer = null, $items = null, $distance = null, $client_contract = null, $zip_code = null, string $contentType = self::contentTypes['getOfferContextsShortened'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getOfferContextsShortened'
            );
        }

        // verify the required parameter 'price_list' is set
        if ($price_list === null || (is_array($price_list) && count($price_list) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $price_list when calling getOfferContextsShortened'
            );
        }








        $resourcePath = '/external-api/v2/offers/{id}/contexts/shortened';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $price_list,
            'priceList', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $groups,
            'groups[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $autofill_offer,
            'autofillOffer', // param base name
            'boolean', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items,
            'items[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $distance,
            'distance', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_contract,
            'clientContract', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $zip_code,
            'zipCode', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getOffers
     *
     * Offers
     *
     * @param  int[]|null $ids identifiant de l&#39;offre (optional)
     * @param  string[]|null $codes nom de l&#39;offre (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOffers'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Offer[]
     */
    public function getOffers($ids = null, $codes = null, string $contentType = self::contentTypes['getOffers'][0])
    {
        list($response) = $this->getOffersWithHttpInfo($ids, $codes, $contentType);
        return $response;
    }

    /**
     * Operation getOffersWithHttpInfo
     *
     * Offers
     *
     * @param  int[]|null $ids identifiant de l&#39;offre (optional)
     * @param  string[]|null $codes nom de l&#39;offre (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOffers'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Offer[], HTTP status code, HTTP response headers (array of strings)
     */
    public function getOffersWithHttpInfo($ids = null, $codes = null, string $contentType = self::contentTypes['getOffers'][0])
    {
        $request = $this->getOffersRequest($ids, $codes, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Offer[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Offer[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Offer[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getOffersAsync
     *
     * Offers
     *
     * @param  int[]|null $ids identifiant de l&#39;offre (optional)
     * @param  string[]|null $codes nom de l&#39;offre (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOffersAsync($ids = null, $codes = null, string $contentType = self::contentTypes['getOffers'][0])
    {
        return $this->getOffersAsyncWithHttpInfo($ids, $codes, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getOffersAsyncWithHttpInfo
     *
     * Offers
     *
     * @param  int[]|null $ids identifiant de l&#39;offre (optional)
     * @param  string[]|null $codes nom de l&#39;offre (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getOffersAsyncWithHttpInfo($ids = null, $codes = null, string $contentType = self::contentTypes['getOffers'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Offer[]';
        $request = $this->getOffersRequest($ids, $codes, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getOffers'
     *
     * @param  int[]|null $ids identifiant de l&#39;offre (optional)
     * @param  string[]|null $codes nom de l&#39;offre (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getOffersRequest($ids = null, $codes = null, string $contentType = self::contentTypes['getOffers'][0])
    {




        $resourcePath = '/external-api/v2/offers';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $ids,
            'ids[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $codes,
            'codes[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getOperatorTickets
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOperatorTickets'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Ticket[]
     * @deprecated
     */
    public function getOperatorTickets($id, string $contentType = self::contentTypes['getOperatorTickets'][0])
    {
        list($response) = $this->getOperatorTicketsWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getOperatorTicketsWithHttpInfo
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOperatorTickets'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Ticket[], HTTP status code, HTTP response headers (array of strings)
     * @deprecated
     */
    public function getOperatorTicketsWithHttpInfo($id, string $contentType = self::contentTypes['getOperatorTickets'][0])
    {
        $request = $this->getOperatorTicketsRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Ticket[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Ticket[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Ticket[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getOperatorTicketsAsync
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOperatorTickets'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getOperatorTicketsAsync($id, string $contentType = self::contentTypes['getOperatorTickets'][0])
    {
        return $this->getOperatorTicketsAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getOperatorTicketsAsyncWithHttpInfo
     *
     * Exploitation Operator Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOperatorTickets'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getOperatorTicketsAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getOperatorTickets'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Ticket[]';
        $request = $this->getOperatorTicketsRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getOperatorTickets'
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getOperatorTickets'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     * @deprecated
     */
    public function getOperatorTicketsRequest($id, string $contentType = self::contentTypes['getOperatorTickets'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getOperatorTickets'
            );
        }


        $resourcePath = '/external-api/v2/exploitation/operator/{id}/tickets';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getPriceList
     *
     * Price List
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceList'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\PriceList
     */
    public function getPriceList($id, string $contentType = self::contentTypes['getPriceList'][0])
    {
        list($response) = $this->getPriceListWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getPriceListWithHttpInfo
     *
     * Price List
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceList'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\PriceList, HTTP status code, HTTP response headers (array of strings)
     */
    public function getPriceListWithHttpInfo($id, string $contentType = self::contentTypes['getPriceList'][0])
    {
        $request = $this->getPriceListRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\PriceList',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\PriceList',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\PriceList',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getPriceListAsync
     *
     * Price List
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceList'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListAsync($id, string $contentType = self::contentTypes['getPriceList'][0])
    {
        return $this->getPriceListAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getPriceListAsyncWithHttpInfo
     *
     * Price List
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceList'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getPriceList'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\PriceList';
        $request = $this->getPriceListRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getPriceList'
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceList'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getPriceListRequest($id, string $contentType = self::contentTypes['getPriceList'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getPriceList'
            );
        }


        $resourcePath = '/external-api/v2/price_lists/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getPriceListItems
     *
     * Price List Items
     *
     * @param  int[] $ids identifiant de l&#39;élément de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListItems'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\PriceListItem[]
     */
    public function getPriceListItems($ids, string $contentType = self::contentTypes['getPriceListItems'][0])
    {
        list($response) = $this->getPriceListItemsWithHttpInfo($ids, $contentType);
        return $response;
    }

    /**
     * Operation getPriceListItemsWithHttpInfo
     *
     * Price List Items
     *
     * @param  int[] $ids identifiant de l&#39;élément de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListItems'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\PriceListItem[], HTTP status code, HTTP response headers (array of strings)
     */
    public function getPriceListItemsWithHttpInfo($ids, string $contentType = self::contentTypes['getPriceListItems'][0])
    {
        $request = $this->getPriceListItemsRequest($ids, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\PriceListItem[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\PriceListItem[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\PriceListItem[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getPriceListItemsAsync
     *
     * Price List Items
     *
     * @param  int[] $ids identifiant de l&#39;élément de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListItems'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListItemsAsync($ids, string $contentType = self::contentTypes['getPriceListItems'][0])
    {
        return $this->getPriceListItemsAsyncWithHttpInfo($ids, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getPriceListItemsAsyncWithHttpInfo
     *
     * Price List Items
     *
     * @param  int[] $ids identifiant de l&#39;élément de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListItems'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListItemsAsyncWithHttpInfo($ids, string $contentType = self::contentTypes['getPriceListItems'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\PriceListItem[]';
        $request = $this->getPriceListItemsRequest($ids, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getPriceListItems'
     *
     * @param  int[] $ids identifiant de l&#39;élément de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListItems'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getPriceListItemsRequest($ids, string $contentType = self::contentTypes['getPriceListItems'][0])
    {

        // verify the required parameter 'ids' is set
        if ($ids === null || (is_array($ids) && count($ids) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $ids when calling getPriceListItems'
            );
        }


        $resourcePath = '/external-api/v2/price_lists_items';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $ids,
            'ids[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getPriceListOffers
     *
     * Price List Offers
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListOffers'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\PricesListOffers
     */
    public function getPriceListOffers($id, string $contentType = self::contentTypes['getPriceListOffers'][0])
    {
        list($response) = $this->getPriceListOffersWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getPriceListOffersWithHttpInfo
     *
     * Price List Offers
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListOffers'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\PricesListOffers, HTTP status code, HTTP response headers (array of strings)
     */
    public function getPriceListOffersWithHttpInfo($id, string $contentType = self::contentTypes['getPriceListOffers'][0])
    {
        $request = $this->getPriceListOffersRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\PricesListOffers',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\PricesListOffers',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\PricesListOffers',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getPriceListOffersAsync
     *
     * Price List Offers
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListOffersAsync($id, string $contentType = self::contentTypes['getPriceListOffers'][0])
    {
        return $this->getPriceListOffersAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getPriceListOffersAsyncWithHttpInfo
     *
     * Price List Offers
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListOffersAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getPriceListOffers'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\PricesListOffers';
        $request = $this->getPriceListOffersRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getPriceListOffers'
     *
     * @param  int $id identifiant du catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceListOffers'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getPriceListOffersRequest($id, string $contentType = self::contentTypes['getPriceListOffers'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getPriceListOffers'
            );
        }


        $resourcePath = '/external-api/v2/price_lists/{id}/offers';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getPriceLists
     *
     * Price Lists
     *
     * @param  int[] $ids identifiant de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceLists'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\PriceList[]
     */
    public function getPriceLists($ids, string $contentType = self::contentTypes['getPriceLists'][0])
    {
        list($response) = $this->getPriceListsWithHttpInfo($ids, $contentType);
        return $response;
    }

    /**
     * Operation getPriceListsWithHttpInfo
     *
     * Price Lists
     *
     * @param  int[] $ids identifiant de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceLists'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\PriceList[], HTTP status code, HTTP response headers (array of strings)
     */
    public function getPriceListsWithHttpInfo($ids, string $contentType = self::contentTypes['getPriceLists'][0])
    {
        $request = $this->getPriceListsRequest($ids, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\PriceList[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\PriceList[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\PriceList[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getPriceListsAsync
     *
     * Price Lists
     *
     * @param  int[] $ids identifiant de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceLists'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListsAsync($ids, string $contentType = self::contentTypes['getPriceLists'][0])
    {
        return $this->getPriceListsAsyncWithHttpInfo($ids, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getPriceListsAsyncWithHttpInfo
     *
     * Price Lists
     *
     * @param  int[] $ids identifiant de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceLists'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPriceListsAsyncWithHttpInfo($ids, string $contentType = self::contentTypes['getPriceLists'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\PriceList[]';
        $request = $this->getPriceListsRequest($ids, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getPriceLists'
     *
     * @param  int[] $ids identifiant de catalogue (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPriceLists'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getPriceListsRequest($ids, string $contentType = self::contentTypes['getPriceLists'][0])
    {

        // verify the required parameter 'ids' is set
        if ($ids === null || (is_array($ids) && count($ids) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $ids when calling getPriceLists'
            );
        }


        $resourcePath = '/external-api/v2/price_lists';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $ids,
            'ids[]', // param base name
            'array', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getProcess
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getProcess'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Process
     * @deprecated
     */
    public function getProcess($id, $process_id, string $contentType = self::contentTypes['getProcess'][0])
    {
        list($response) = $this->getProcessWithHttpInfo($id, $process_id, $contentType);
        return $response;
    }

    /**
     * Operation getProcessWithHttpInfo
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getProcess'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Process, HTTP status code, HTTP response headers (array of strings)
     * @deprecated
     */
    public function getProcessWithHttpInfo($id, $process_id, string $contentType = self::contentTypes['getProcess'][0])
    {
        $request = $this->getProcessRequest($id, $process_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Process',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Process',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Process',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getProcessAsync
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getProcess'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getProcessAsync($id, $process_id, string $contentType = self::contentTypes['getProcess'][0])
    {
        return $this->getProcessAsyncWithHttpInfo($id, $process_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getProcessAsyncWithHttpInfo
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getProcess'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getProcessAsyncWithHttpInfo($id, $process_id, string $contentType = self::contentTypes['getProcess'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Process';
        $request = $this->getProcessRequest($id, $process_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getProcess'
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getProcess'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     * @deprecated
     */
    public function getProcessRequest($id, $process_id, string $contentType = self::contentTypes['getProcess'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getProcess'
            );
        }

        // verify the required parameter 'process_id' is set
        if ($process_id === null || (is_array($process_id) && count($process_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $process_id when calling getProcess'
            );
        }


        $resourcePath = '/external-api/v2/exploitation/operator/{id}/process/{processId}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }
        // path params
        if ($process_id !== null) {
            $resourcePath = str_replace(
                '{' . 'processId' . '}',
                ObjectSerializer::toPathValue($process_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getPublicAttachments
     *
     * Attachments Public
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPublicAttachments'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetPublicAttachments200Response
     */
    public function getPublicAttachments(string $contentType = self::contentTypes['getPublicAttachments'][0])
    {
        list($response) = $this->getPublicAttachmentsWithHttpInfo($contentType);
        return $response;
    }

    /**
     * Operation getPublicAttachmentsWithHttpInfo
     *
     * Attachments Public
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPublicAttachments'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetPublicAttachments200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getPublicAttachmentsWithHttpInfo(string $contentType = self::contentTypes['getPublicAttachments'][0])
    {
        $request = $this->getPublicAttachmentsRequest($contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getPublicAttachmentsAsync
     *
     * Attachments Public
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPublicAttachments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPublicAttachmentsAsync(string $contentType = self::contentTypes['getPublicAttachments'][0])
    {
        return $this->getPublicAttachmentsAsyncWithHttpInfo($contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getPublicAttachmentsAsyncWithHttpInfo
     *
     * Attachments Public
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPublicAttachments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getPublicAttachmentsAsyncWithHttpInfo(string $contentType = self::contentTypes['getPublicAttachments'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetPublicAttachments200Response';
        $request = $this->getPublicAttachmentsRequest($contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getPublicAttachments'
     *
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getPublicAttachments'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getPublicAttachmentsRequest(string $contentType = self::contentTypes['getPublicAttachments'][0])
    {


        $resourcePath = '/external-api/v2/attachments/public';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;





        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getRunningWorkflows
     *
     * Workflows running
     *
     * @param  string|null $contexts context names (optional)
     * @param  string|null $states states (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getRunningWorkflows'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetRunningWorkflows200Response
     */
    public function getRunningWorkflows($contexts = null, $states = null, string $contentType = self::contentTypes['getRunningWorkflows'][0])
    {
        list($response) = $this->getRunningWorkflowsWithHttpInfo($contexts, $states, $contentType);
        return $response;
    }

    /**
     * Operation getRunningWorkflowsWithHttpInfo
     *
     * Workflows running
     *
     * @param  string|null $contexts context names (optional)
     * @param  string|null $states states (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getRunningWorkflows'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetRunningWorkflows200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getRunningWorkflowsWithHttpInfo($contexts = null, $states = null, string $contentType = self::contentTypes['getRunningWorkflows'][0])
    {
        $request = $this->getRunningWorkflowsRequest($contexts, $states, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetRunningWorkflows200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetRunningWorkflows200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetRunningWorkflows200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getRunningWorkflowsAsync
     *
     * Workflows running
     *
     * @param  string|null $contexts context names (optional)
     * @param  string|null $states states (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getRunningWorkflows'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getRunningWorkflowsAsync($contexts = null, $states = null, string $contentType = self::contentTypes['getRunningWorkflows'][0])
    {
        return $this->getRunningWorkflowsAsyncWithHttpInfo($contexts, $states, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getRunningWorkflowsAsyncWithHttpInfo
     *
     * Workflows running
     *
     * @param  string|null $contexts context names (optional)
     * @param  string|null $states states (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getRunningWorkflows'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getRunningWorkflowsAsyncWithHttpInfo($contexts = null, $states = null, string $contentType = self::contentTypes['getRunningWorkflows'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetRunningWorkflows200Response';
        $request = $this->getRunningWorkflowsRequest($contexts, $states, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getRunningWorkflows'
     *
     * @param  string|null $contexts context names (optional)
     * @param  string|null $states states (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getRunningWorkflows'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getRunningWorkflowsRequest($contexts = null, $states = null, string $contentType = self::contentTypes['getRunningWorkflows'][0])
    {




        $resourcePath = '/external-api/v2/workflows/running';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $contexts,
            'contexts', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $states,
            'states', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getService
     *
     * Service
     *
     * @param  int $id identifiant du service (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getService'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Service
     */
    public function getService($id, string $contentType = self::contentTypes['getService'][0])
    {
        list($response) = $this->getServiceWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getServiceWithHttpInfo
     *
     * Service
     *
     * @param  int $id identifiant du service (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getService'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Service, HTTP status code, HTTP response headers (array of strings)
     */
    public function getServiceWithHttpInfo($id, string $contentType = self::contentTypes['getService'][0])
    {
        $request = $this->getServiceRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Service',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Service',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Service',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getServiceAsync
     *
     * Service
     *
     * @param  int $id identifiant du service (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getService'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceAsync($id, string $contentType = self::contentTypes['getService'][0])
    {
        return $this->getServiceAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getServiceAsyncWithHttpInfo
     *
     * Service
     *
     * @param  int $id identifiant du service (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getService'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getService'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Service';
        $request = $this->getServiceRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getService'
     *
     * @param  int $id identifiant du service (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getService'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getServiceRequest($id, string $contentType = self::contentTypes['getService'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getService'
            );
        }


        $resourcePath = '/external-api/v2/services/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getServiceContract
     *
     * Service Contract
     *
     * @param  int $id identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContract'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\ServiceContract
     */
    public function getServiceContract($id, string $contentType = self::contentTypes['getServiceContract'][0])
    {
        list($response) = $this->getServiceContractWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getServiceContractWithHttpInfo
     *
     * Service Contract
     *
     * @param  int $id identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContract'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\ServiceContract, HTTP status code, HTTP response headers (array of strings)
     */
    public function getServiceContractWithHttpInfo($id, string $contentType = self::contentTypes['getServiceContract'][0])
    {
        $request = $this->getServiceContractRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\ServiceContract',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\ServiceContract',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\ServiceContract',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getServiceContractAsync
     *
     * Service Contract
     *
     * @param  int $id identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContract'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractAsync($id, string $contentType = self::contentTypes['getServiceContract'][0])
    {
        return $this->getServiceContractAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getServiceContractAsyncWithHttpInfo
     *
     * Service Contract
     *
     * @param  int $id identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContract'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getServiceContract'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\ServiceContract';
        $request = $this->getServiceContractRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getServiceContract'
     *
     * @param  int $id identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContract'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getServiceContractRequest($id, string $contentType = self::contentTypes['getServiceContract'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getServiceContract'
            );
        }


        $resourcePath = '/external-api/v2/service_contracts/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getServiceContractByName
     *
     * Service Contract by name
     *
     * @param  string $service_name identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractByName'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\ServiceContract
     */
    public function getServiceContractByName($service_name, string $contentType = self::contentTypes['getServiceContractByName'][0])
    {
        list($response) = $this->getServiceContractByNameWithHttpInfo($service_name, $contentType);
        return $response;
    }

    /**
     * Operation getServiceContractByNameWithHttpInfo
     *
     * Service Contract by name
     *
     * @param  string $service_name identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractByName'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\ServiceContract, HTTP status code, HTTP response headers (array of strings)
     */
    public function getServiceContractByNameWithHttpInfo($service_name, string $contentType = self::contentTypes['getServiceContractByName'][0])
    {
        $request = $this->getServiceContractByNameRequest($service_name, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\ServiceContract',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\ServiceContract',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\ServiceContract',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getServiceContractByNameAsync
     *
     * Service Contract by name
     *
     * @param  string $service_name identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractByNameAsync($service_name, string $contentType = self::contentTypes['getServiceContractByName'][0])
    {
        return $this->getServiceContractByNameAsyncWithHttpInfo($service_name, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getServiceContractByNameAsyncWithHttpInfo
     *
     * Service Contract by name
     *
     * @param  string $service_name identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractByNameAsyncWithHttpInfo($service_name, string $contentType = self::contentTypes['getServiceContractByName'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\ServiceContract';
        $request = $this->getServiceContractByNameRequest($service_name, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getServiceContractByName'
     *
     * @param  string $service_name identifiant du pack de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getServiceContractByNameRequest($service_name, string $contentType = self::contentTypes['getServiceContractByName'][0])
    {

        // verify the required parameter 'service_name' is set
        if ($service_name === null || (is_array($service_name) && count($service_name) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $service_name when calling getServiceContractByName'
            );
        }


        $resourcePath = '/external-api/v2/service_contracts_by_name/{service_name}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($service_name !== null) {
            $resourcePath = str_replace(
                '{' . 'service_name' . '}',
                ObjectSerializer::toPathValue($service_name),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getServiceContractOperationalStatusByName
     *
     * Get service contract operational status
     *
     * @param  string $service_name identifiant du contrat de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractOperationalStatusByName'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\OperationalStatus
     */
    public function getServiceContractOperationalStatusByName($service_name, string $contentType = self::contentTypes['getServiceContractOperationalStatusByName'][0])
    {
        list($response) = $this->getServiceContractOperationalStatusByNameWithHttpInfo($service_name, $contentType);
        return $response;
    }

    /**
     * Operation getServiceContractOperationalStatusByNameWithHttpInfo
     *
     * Get service contract operational status
     *
     * @param  string $service_name identifiant du contrat de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractOperationalStatusByName'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\OperationalStatus, HTTP status code, HTTP response headers (array of strings)
     */
    public function getServiceContractOperationalStatusByNameWithHttpInfo($service_name, string $contentType = self::contentTypes['getServiceContractOperationalStatusByName'][0])
    {
        $request = $this->getServiceContractOperationalStatusByNameRequest($service_name, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\OperationalStatus',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\OperationalStatus',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\OperationalStatus',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getServiceContractOperationalStatusByNameAsync
     *
     * Get service contract operational status
     *
     * @param  string $service_name identifiant du contrat de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractOperationalStatusByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractOperationalStatusByNameAsync($service_name, string $contentType = self::contentTypes['getServiceContractOperationalStatusByName'][0])
    {
        return $this->getServiceContractOperationalStatusByNameAsyncWithHttpInfo($service_name, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getServiceContractOperationalStatusByNameAsyncWithHttpInfo
     *
     * Get service contract operational status
     *
     * @param  string $service_name identifiant du contrat de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractOperationalStatusByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractOperationalStatusByNameAsyncWithHttpInfo($service_name, string $contentType = self::contentTypes['getServiceContractOperationalStatusByName'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\OperationalStatus';
        $request = $this->getServiceContractOperationalStatusByNameRequest($service_name, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getServiceContractOperationalStatusByName'
     *
     * @param  string $service_name identifiant du contrat de services (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContractOperationalStatusByName'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getServiceContractOperationalStatusByNameRequest($service_name, string $contentType = self::contentTypes['getServiceContractOperationalStatusByName'][0])
    {

        // verify the required parameter 'service_name' is set
        if ($service_name === null || (is_array($service_name) && count($service_name) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $service_name when calling getServiceContractOperationalStatusByName'
            );
        }


        $resourcePath = '/external-api/v2/service_contracts_by_name/{service_name}/operational_status';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($service_name !== null) {
            $resourcePath = str_replace(
                '{' . 'service_name' . '}',
                ObjectSerializer::toPathValue($service_name),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getServiceContracts
     *
     * Service Contracts
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string|null $sort_id sort_id (optional)
     * @param  string|null $sort_status sort_status (optional)
     * @param  string|null $status status (optional)
     * @param  int|null $legal_entity_id legal_entity_id (optional)
     * @param  int|null $offer_id offer_id (optional)
     * @param  int|null $client_contract_id client_contract_id (optional)
     * @param  int|null $client_legal_entity_id client_legal_entity_id (optional)
     * @param  string|null $search search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContracts'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetServiceContracts200Response
     */
    public function getServiceContracts($page = null, $items_per_page = null, $sort_id = null, $sort_status = null, $status = null, $legal_entity_id = null, $offer_id = null, $client_contract_id = null, $client_legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getServiceContracts'][0])
    {
        list($response) = $this->getServiceContractsWithHttpInfo($page, $items_per_page, $sort_id, $sort_status, $status, $legal_entity_id, $offer_id, $client_contract_id, $client_legal_entity_id, $search, $contentType);
        return $response;
    }

    /**
     * Operation getServiceContractsWithHttpInfo
     *
     * Service Contracts
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_status (optional)
     * @param  string|null $status (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $offer_id (optional)
     * @param  int|null $client_contract_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContracts'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetServiceContracts200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getServiceContractsWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_status = null, $status = null, $legal_entity_id = null, $offer_id = null, $client_contract_id = null, $client_legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getServiceContracts'][0])
    {
        $request = $this->getServiceContractsRequest($page, $items_per_page, $sort_id, $sort_status, $status, $legal_entity_id, $offer_id, $client_contract_id, $client_legal_entity_id, $search, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetServiceContracts200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetServiceContracts200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetServiceContracts200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getServiceContractsAsync
     *
     * Service Contracts
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_status (optional)
     * @param  string|null $status (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $offer_id (optional)
     * @param  int|null $client_contract_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContracts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractsAsync($page = null, $items_per_page = null, $sort_id = null, $sort_status = null, $status = null, $legal_entity_id = null, $offer_id = null, $client_contract_id = null, $client_legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getServiceContracts'][0])
    {
        return $this->getServiceContractsAsyncWithHttpInfo($page, $items_per_page, $sort_id, $sort_status, $status, $legal_entity_id, $offer_id, $client_contract_id, $client_legal_entity_id, $search, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getServiceContractsAsyncWithHttpInfo
     *
     * Service Contracts
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_status (optional)
     * @param  string|null $status (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $offer_id (optional)
     * @param  int|null $client_contract_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContracts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServiceContractsAsyncWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $sort_status = null, $status = null, $legal_entity_id = null, $offer_id = null, $client_contract_id = null, $client_legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getServiceContracts'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetServiceContracts200Response';
        $request = $this->getServiceContractsRequest($page, $items_per_page, $sort_id, $sort_status, $status, $legal_entity_id, $offer_id, $client_contract_id, $client_legal_entity_id, $search, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getServiceContracts'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  string|null $sort_status (optional)
     * @param  string|null $status (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  int|null $offer_id (optional)
     * @param  int|null $client_contract_id (optional)
     * @param  int|null $client_legal_entity_id (optional)
     * @param  string|null $search (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServiceContracts'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getServiceContractsRequest($page = null, $items_per_page = null, $sort_id = null, $sort_status = null, $status = null, $legal_entity_id = null, $offer_id = null, $client_contract_id = null, $client_legal_entity_id = null, $search = null, string $contentType = self::contentTypes['getServiceContracts'][0])
    {












        $resourcePath = '/external-api/v2/service_contracts';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_id,
            'sort[id]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_status,
            'sort[status]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $status,
            'status', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legal_entity_id,
            'legalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $offer_id,
            'offerId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_contract_id,
            'clientContractId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_legal_entity_id,
            'clientLegalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $search,
            'search', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getServices
     *
     * Services
     *
     * @param  int|null $page page (optional)
     * @param  int|null $items_per_page items_per_page (optional)
     * @param  string|null $sort_id sort_id (optional)
     * @param  int|null $legal_entity_id legal_entity_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServices'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetServices200Response
     */
    public function getServices($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, string $contentType = self::contentTypes['getServices'][0])
    {
        list($response) = $this->getServicesWithHttpInfo($page, $items_per_page, $sort_id, $legal_entity_id, $contentType);
        return $response;
    }

    /**
     * Operation getServicesWithHttpInfo
     *
     * Services
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServices'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetServices200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function getServicesWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, string $contentType = self::contentTypes['getServices'][0])
    {
        $request = $this->getServicesRequest($page, $items_per_page, $sort_id, $legal_entity_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetServices200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetServices200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetServices200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getServicesAsync
     *
     * Services
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServices'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServicesAsync($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, string $contentType = self::contentTypes['getServices'][0])
    {
        return $this->getServicesAsyncWithHttpInfo($page, $items_per_page, $sort_id, $legal_entity_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getServicesAsyncWithHttpInfo
     *
     * Services
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServices'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getServicesAsyncWithHttpInfo($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, string $contentType = self::contentTypes['getServices'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetServices200Response';
        $request = $this->getServicesRequest($page, $items_per_page, $sort_id, $legal_entity_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getServices'
     *
     * @param  int|null $page (optional)
     * @param  int|null $items_per_page (optional)
     * @param  string|null $sort_id (optional)
     * @param  int|null $legal_entity_id (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getServices'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getServicesRequest($page = null, $items_per_page = null, $sort_id = null, $legal_entity_id = null, string $contentType = self::contentTypes['getServices'][0])
    {






        $resourcePath = '/external-api/v2/services';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $page,
            'page', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $items_per_page,
            'itemsPerPage', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_id,
            'sort[id]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legal_entity_id,
            'legalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getTicket
     *
     * Exploitation Ticket
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $ref numero du ticket (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTicket'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\OperatorTicket
     * @deprecated
     */
    public function getTicket($id, $ref, string $contentType = self::contentTypes['getTicket'][0])
    {
        list($response) = $this->getTicketWithHttpInfo($id, $ref, $contentType);
        return $response;
    }

    /**
     * Operation getTicketWithHttpInfo
     *
     * Exploitation Ticket
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $ref numero du ticket (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTicket'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\OperatorTicket, HTTP status code, HTTP response headers (array of strings)
     * @deprecated
     */
    public function getTicketWithHttpInfo($id, $ref, string $contentType = self::contentTypes['getTicket'][0])
    {
        $request = $this->getTicketRequest($id, $ref, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\OperatorTicket',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\OperatorTicket',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\OperatorTicket',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getTicketAsync
     *
     * Exploitation Ticket
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $ref numero du ticket (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTicket'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getTicketAsync($id, $ref, string $contentType = self::contentTypes['getTicket'][0])
    {
        return $this->getTicketAsyncWithHttpInfo($id, $ref, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getTicketAsyncWithHttpInfo
     *
     * Exploitation Ticket
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $ref numero du ticket (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTicket'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getTicketAsyncWithHttpInfo($id, $ref, string $contentType = self::contentTypes['getTicket'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\OperatorTicket';
        $request = $this->getTicketRequest($id, $ref, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getTicket'
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  string $ref numero du ticket (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTicket'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     * @deprecated
     */
    public function getTicketRequest($id, $ref, string $contentType = self::contentTypes['getTicket'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getTicket'
            );
        }

        // verify the required parameter 'ref' is set
        if ($ref === null || (is_array($ref) && count($ref) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $ref when calling getTicket'
            );
        }


        $resourcePath = '/external-api/v2/exploitation/operator/{id}/tickets/{ref}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }
        // path params
        if ($ref !== null) {
            $resourcePath = str_replace(
                '{' . 'ref' . '}',
                ObjectSerializer::toPathValue($ref),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getTickets
     *
     * Exploitation Tickets
     *
     * @param  string|null $sort_date_creation sort_date_creation (optional)
     * @param  string|null $etat etat (optional)
     * @param  int|null $operator operator (optional)
     * @param  bool|null $show_archived show_archived (optional, default to false)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTickets'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Ticket[]
     * @deprecated
     */
    public function getTickets($sort_date_creation = null, $etat = null, $operator = null, $show_archived = false, string $contentType = self::contentTypes['getTickets'][0])
    {
        list($response) = $this->getTicketsWithHttpInfo($sort_date_creation, $etat, $operator, $show_archived, $contentType);
        return $response;
    }

    /**
     * Operation getTicketsWithHttpInfo
     *
     * Exploitation Tickets
     *
     * @param  string|null $sort_date_creation (optional)
     * @param  string|null $etat (optional)
     * @param  int|null $operator (optional)
     * @param  bool|null $show_archived (optional, default to false)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTickets'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Ticket[], HTTP status code, HTTP response headers (array of strings)
     * @deprecated
     */
    public function getTicketsWithHttpInfo($sort_date_creation = null, $etat = null, $operator = null, $show_archived = false, string $contentType = self::contentTypes['getTickets'][0])
    {
        $request = $this->getTicketsRequest($sort_date_creation, $etat, $operator, $show_archived, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Ticket[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Ticket[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Ticket[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getTicketsAsync
     *
     * Exploitation Tickets
     *
     * @param  string|null $sort_date_creation (optional)
     * @param  string|null $etat (optional)
     * @param  int|null $operator (optional)
     * @param  bool|null $show_archived (optional, default to false)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTickets'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getTicketsAsync($sort_date_creation = null, $etat = null, $operator = null, $show_archived = false, string $contentType = self::contentTypes['getTickets'][0])
    {
        return $this->getTicketsAsyncWithHttpInfo($sort_date_creation, $etat, $operator, $show_archived, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getTicketsAsyncWithHttpInfo
     *
     * Exploitation Tickets
     *
     * @param  string|null $sort_date_creation (optional)
     * @param  string|null $etat (optional)
     * @param  int|null $operator (optional)
     * @param  bool|null $show_archived (optional, default to false)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTickets'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function getTicketsAsyncWithHttpInfo($sort_date_creation = null, $etat = null, $operator = null, $show_archived = false, string $contentType = self::contentTypes['getTickets'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Ticket[]';
        $request = $this->getTicketsRequest($sort_date_creation, $etat, $operator, $show_archived, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getTickets'
     *
     * @param  string|null $sort_date_creation (optional)
     * @param  string|null $etat (optional)
     * @param  int|null $operator (optional)
     * @param  bool|null $show_archived (optional, default to false)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getTickets'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     * @deprecated
     */
    public function getTicketsRequest($sort_date_creation = null, $etat = null, $operator = null, $show_archived = false, string $contentType = self::contentTypes['getTickets'][0])
    {






        $resourcePath = '/external-api/v2/exploitation/tickets';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $sort_date_creation,
            'sort[date_creation]', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $etat,
            'etat', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $operator,
            'operator', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $show_archived,
            'showArchived', // param base name
            'boolean', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation getWorkflow
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getWorkflow'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Workflow
     */
    public function getWorkflow($id, string $contentType = self::contentTypes['getWorkflow'][0])
    {
        list($response) = $this->getWorkflowWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation getWorkflowWithHttpInfo
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getWorkflow'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Workflow, HTTP status code, HTTP response headers (array of strings)
     */
    public function getWorkflowWithHttpInfo($id, string $contentType = self::contentTypes['getWorkflow'][0])
    {
        $request = $this->getWorkflowRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Workflow',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Workflow',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Workflow',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation getWorkflowAsync
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getWorkflowAsync($id, string $contentType = self::contentTypes['getWorkflow'][0])
    {
        return $this->getWorkflowAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation getWorkflowAsyncWithHttpInfo
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function getWorkflowAsyncWithHttpInfo($id, string $contentType = self::contentTypes['getWorkflow'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Workflow';
        $request = $this->getWorkflowRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'getWorkflow'
     *
     * @param  int $id workflow id (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['getWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function getWorkflowRequest($id, string $contentType = self::contentTypes['getWorkflow'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling getWorkflow'
            );
        }


        $resourcePath = '/external-api/v2/workflow/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation openTicket
     *
     * Exploitation Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int|null $service_id identifiant du service (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['openTicket'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateTicket
     * @deprecated
     */
    public function openTicket($id, $service_id = null, string $contentType = self::contentTypes['openTicket'][0])
    {
        list($response) = $this->openTicketWithHttpInfo($id, $service_id, $contentType);
        return $response;
    }

    /**
     * Operation openTicketWithHttpInfo
     *
     * Exploitation Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int|null $service_id identifiant du service (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['openTicket'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateTicket, HTTP status code, HTTP response headers (array of strings)
     * @deprecated
     */
    public function openTicketWithHttpInfo($id, $service_id = null, string $contentType = self::contentTypes['openTicket'][0])
    {
        $request = $this->openTicketRequest($id, $service_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateTicket',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateTicket',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateTicket',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation openTicketAsync
     *
     * Exploitation Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int|null $service_id identifiant du service (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['openTicket'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function openTicketAsync($id, $service_id = null, string $contentType = self::contentTypes['openTicket'][0])
    {
        return $this->openTicketAsyncWithHttpInfo($id, $service_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation openTicketAsyncWithHttpInfo
     *
     * Exploitation Tickets
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int|null $service_id identifiant du service (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['openTicket'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function openTicketAsyncWithHttpInfo($id, $service_id = null, string $contentType = self::contentTypes['openTicket'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateTicket';
        $request = $this->openTicketRequest($id, $service_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'openTicket'
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int|null $service_id identifiant du service (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['openTicket'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     * @deprecated
     */
    public function openTicketRequest($id, $service_id = null, string $contentType = self::contentTypes['openTicket'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling openTicket'
            );
        }



        $resourcePath = '/external-api/v2/exploitation/operator/{id}/tickets';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $service_id,
            'serviceId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);


        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation removeCommercialOfferSection
     *
     * Remove Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['removeCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return void
     */
    public function removeCommercialOfferSection($id, $section_id, string $contentType = self::contentTypes['removeCommercialOfferSection'][0])
    {
        $this->removeCommercialOfferSectionWithHttpInfo($id, $section_id, $contentType);
    }

    /**
     * Operation removeCommercialOfferSectionWithHttpInfo
     *
     * Remove Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['removeCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of null, HTTP status code, HTTP response headers (array of strings)
     */
    public function removeCommercialOfferSectionWithHttpInfo($id, $section_id, string $contentType = self::contentTypes['removeCommercialOfferSection'][0])
    {
        $request = $this->removeCommercialOfferSectionRequest($id, $section_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            return [null, $statusCode, $response->getHeaders()];
        } catch (ApiException $e) {
            switch ($e->getCode()) {
            }
        

            throw $e;
        }
    }

    /**
     * Operation removeCommercialOfferSectionAsync
     *
     * Remove Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['removeCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function removeCommercialOfferSectionAsync($id, $section_id, string $contentType = self::contentTypes['removeCommercialOfferSection'][0])
    {
        return $this->removeCommercialOfferSectionAsyncWithHttpInfo($id, $section_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation removeCommercialOfferSectionAsyncWithHttpInfo
     *
     * Remove Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['removeCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function removeCommercialOfferSectionAsyncWithHttpInfo($id, $section_id, string $contentType = self::contentTypes['removeCommercialOfferSection'][0])
    {
        $returnType = '';
        $request = $this->removeCommercialOfferSectionRequest($id, $section_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    return [null, $response->getStatusCode(), $response->getHeaders()];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'removeCommercialOfferSection'
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['removeCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function removeCommercialOfferSectionRequest($id, $section_id, string $contentType = self::contentTypes['removeCommercialOfferSection'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling removeCommercialOfferSection'
            );
        }

        // verify the required parameter 'section_id' is set
        if ($section_id === null || (is_array($section_id) && count($section_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $section_id when calling removeCommercialOfferSection'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}/sections/{sectionId}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }
        // path params
        if ($section_id !== null) {
            $resourcePath = str_replace(
                '{' . 'sectionId' . '}',
                ObjectSerializer::toPathValue($section_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            [],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'DELETE',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation renameCommercialOfferSection
     *
     * Rename Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\RenameCommercialOfferSection $rename_commercial_offer_section rename_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['renameCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function renameCommercialOfferSection($id, $section_id, $rename_commercial_offer_section, string $contentType = self::contentTypes['renameCommercialOfferSection'][0])
    {
        list($response) = $this->renameCommercialOfferSectionWithHttpInfo($id, $section_id, $rename_commercial_offer_section, $contentType);
        return $response;
    }

    /**
     * Operation renameCommercialOfferSectionWithHttpInfo
     *
     * Rename Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\RenameCommercialOfferSection $rename_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['renameCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function renameCommercialOfferSectionWithHttpInfo($id, $section_id, $rename_commercial_offer_section, string $contentType = self::contentTypes['renameCommercialOfferSection'][0])
    {
        $request = $this->renameCommercialOfferSectionRequest($id, $section_id, $rename_commercial_offer_section, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation renameCommercialOfferSectionAsync
     *
     * Rename Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\RenameCommercialOfferSection $rename_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['renameCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function renameCommercialOfferSectionAsync($id, $section_id, $rename_commercial_offer_section, string $contentType = self::contentTypes['renameCommercialOfferSection'][0])
    {
        return $this->renameCommercialOfferSectionAsyncWithHttpInfo($id, $section_id, $rename_commercial_offer_section, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation renameCommercialOfferSectionAsyncWithHttpInfo
     *
     * Rename Commercial Offer Section
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\RenameCommercialOfferSection $rename_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['renameCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function renameCommercialOfferSectionAsyncWithHttpInfo($id, $section_id, $rename_commercial_offer_section, string $contentType = self::contentTypes['renameCommercialOfferSection'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->renameCommercialOfferSectionRequest($id, $section_id, $rename_commercial_offer_section, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'renameCommercialOfferSection'
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\RenameCommercialOfferSection $rename_commercial_offer_section (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['renameCommercialOfferSection'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function renameCommercialOfferSectionRequest($id, $section_id, $rename_commercial_offer_section, string $contentType = self::contentTypes['renameCommercialOfferSection'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling renameCommercialOfferSection'
            );
        }

        // verify the required parameter 'section_id' is set
        if ($section_id === null || (is_array($section_id) && count($section_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $section_id when calling renameCommercialOfferSection'
            );
        }

        // verify the required parameter 'rename_commercial_offer_section' is set
        if ($rename_commercial_offer_section === null || (is_array($rename_commercial_offer_section) && count($rename_commercial_offer_section) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $rename_commercial_offer_section when calling renameCommercialOfferSection'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}/sections/{sectionId}/rename';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }
        // path params
        if ($section_id !== null) {
            $resourcePath = str_replace(
                '{' . 'sectionId' . '}',
                ObjectSerializer::toPathValue($section_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($rename_commercial_offer_section)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($rename_commercial_offer_section));
            } else {
                $httpBody = $rename_commercial_offer_section;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation runProcess
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  \SplFileObject[]|null $files files (optional)
     * @param  string|null $transition_class transition_class (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runProcess'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Process
     * @deprecated
     */
    public function runProcess($id, $process_id, $files = null, $transition_class = null, string $contentType = self::contentTypes['runProcess'][0])
    {
        list($response) = $this->runProcessWithHttpInfo($id, $process_id, $files, $transition_class, $contentType);
        return $response;
    }

    /**
     * Operation runProcessWithHttpInfo
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string|null $transition_class (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runProcess'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Process, HTTP status code, HTTP response headers (array of strings)
     * @deprecated
     */
    public function runProcessWithHttpInfo($id, $process_id, $files = null, $transition_class = null, string $contentType = self::contentTypes['runProcess'][0])
    {
        $request = $this->runProcessRequest($id, $process_id, $files, $transition_class, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Process',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Process',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Process',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation runProcessAsync
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string|null $transition_class (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runProcess'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function runProcessAsync($id, $process_id, $files = null, $transition_class = null, string $contentType = self::contentTypes['runProcess'][0])
    {
        return $this->runProcessAsyncWithHttpInfo($id, $process_id, $files, $transition_class, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation runProcessAsyncWithHttpInfo
     *
     * Exploitation Process
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string|null $transition_class (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runProcess'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     * @deprecated
     */
    public function runProcessAsyncWithHttpInfo($id, $process_id, $files = null, $transition_class = null, string $contentType = self::contentTypes['runProcess'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Process';
        $request = $this->runProcessRequest($id, $process_id, $files, $transition_class, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'runProcess'
     *
     * @param  int $id identifiant de l&#39;opérateur (required)
     * @param  int $process_id identifiant du process (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string|null $transition_class (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runProcess'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     * @deprecated
     */
    public function runProcessRequest($id, $process_id, $files = null, $transition_class = null, string $contentType = self::contentTypes['runProcess'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling runProcess'
            );
        }

        // verify the required parameter 'process_id' is set
        if ($process_id === null || (is_array($process_id) && count($process_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $process_id when calling runProcess'
            );
        }




        $resourcePath = '/external-api/v2/exploitation/operator/{id}/process/{processId}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }
        // path params
        if ($process_id !== null) {
            $resourcePath = str_replace(
                '{' . 'processId' . '}',
                ObjectSerializer::toPathValue($process_id),
                $resourcePath
            );
        }

        // form params
        $formDataProcessor = new FormDataProcessor();

        $formData = $formDataProcessor->prepare([
            'files' => $files,
            'transition_class' => $transition_class,
        ]);

        $formParams = $formDataProcessor->flatten($formData);
        $multipart = $formDataProcessor->has_file;

        $multipart = true;
        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation runWorkflow
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  \SplFileObject[]|null $files files (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runWorkflow'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\GetWorkflow
     */
    public function runWorkflow($id, $files = null, string $contentType = self::contentTypes['runWorkflow'][0])
    {
        list($response) = $this->runWorkflowWithHttpInfo($id, $files, $contentType);
        return $response;
    }

    /**
     * Operation runWorkflowWithHttpInfo
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runWorkflow'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\GetWorkflow, HTTP status code, HTTP response headers (array of strings)
     */
    public function runWorkflowWithHttpInfo($id, $files = null, string $contentType = self::contentTypes['runWorkflow'][0])
    {
        $request = $this->runWorkflowRequest($id, $files, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\GetWorkflow',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\GetWorkflow',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\GetWorkflow',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation runWorkflowAsync
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function runWorkflowAsync($id, $files = null, string $contentType = self::contentTypes['runWorkflow'][0])
    {
        return $this->runWorkflowAsyncWithHttpInfo($id, $files, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation runWorkflowAsyncWithHttpInfo
     *
     * Workflow
     *
     * @param  int $id workflow id (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function runWorkflowAsyncWithHttpInfo($id, $files = null, string $contentType = self::contentTypes['runWorkflow'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\GetWorkflow';
        $request = $this->runWorkflowRequest($id, $files, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'runWorkflow'
     *
     * @param  int $id workflow id (required)
     * @param  \SplFileObject[]|null $files (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['runWorkflow'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function runWorkflowRequest($id, $files = null, string $contentType = self::contentTypes['runWorkflow'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling runWorkflow'
            );
        }



        $resourcePath = '/external-api/v2/workflow/{id}';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }

        // form params
        $formDataProcessor = new FormDataProcessor();

        $formData = $formDataProcessor->prepare([
            'files' => $files,
        ]);

        $formParams = $formDataProcessor->flatten($formData);
        $multipart = $formDataProcessor->has_file;

        $multipart = true;
        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation search
     *
     * Search
     *
     * @param  string $q text to search for (required)
     * @param  int|null $legal_entity_id identifier to filter results (optional)
     * @param  int|null $client_legal_entity_id identifier to filter results (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['search'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\Search200ResponseInner[]
     */
    public function search($q, $legal_entity_id = null, $client_legal_entity_id = null, string $contentType = self::contentTypes['search'][0])
    {
        list($response) = $this->searchWithHttpInfo($q, $legal_entity_id, $client_legal_entity_id, $contentType);
        return $response;
    }

    /**
     * Operation searchWithHttpInfo
     *
     * Search
     *
     * @param  string $q text to search for (required)
     * @param  int|null $legal_entity_id identifier to filter results (optional)
     * @param  int|null $client_legal_entity_id identifier to filter results (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['search'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\Search200ResponseInner[], HTTP status code, HTTP response headers (array of strings)
     */
    public function searchWithHttpInfo($q, $legal_entity_id = null, $client_legal_entity_id = null, string $contentType = self::contentTypes['search'][0])
    {
        $request = $this->searchRequest($q, $legal_entity_id, $client_legal_entity_id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\Search200ResponseInner[]',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\Search200ResponseInner[]',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\Search200ResponseInner[]',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation searchAsync
     *
     * Search
     *
     * @param  string $q text to search for (required)
     * @param  int|null $legal_entity_id identifier to filter results (optional)
     * @param  int|null $client_legal_entity_id identifier to filter results (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['search'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function searchAsync($q, $legal_entity_id = null, $client_legal_entity_id = null, string $contentType = self::contentTypes['search'][0])
    {
        return $this->searchAsyncWithHttpInfo($q, $legal_entity_id, $client_legal_entity_id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation searchAsyncWithHttpInfo
     *
     * Search
     *
     * @param  string $q text to search for (required)
     * @param  int|null $legal_entity_id identifier to filter results (optional)
     * @param  int|null $client_legal_entity_id identifier to filter results (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['search'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function searchAsyncWithHttpInfo($q, $legal_entity_id = null, $client_legal_entity_id = null, string $contentType = self::contentTypes['search'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\Search200ResponseInner[]';
        $request = $this->searchRequest($q, $legal_entity_id, $client_legal_entity_id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'search'
     *
     * @param  string $q text to search for (required)
     * @param  int|null $legal_entity_id identifier to filter results (optional)
     * @param  int|null $client_legal_entity_id identifier to filter results (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['search'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function searchRequest($q, $legal_entity_id = null, $client_legal_entity_id = null, string $contentType = self::contentTypes['search'][0])
    {

        // verify the required parameter 'q' is set
        if ($q === null || (is_array($q) && count($q) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $q when calling search'
            );
        }




        $resourcePath = '/external-api/v2/search';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;

        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $q,
            'q', // param base name
            'string', // openApiType
            'form', // style
            true, // explode
            true // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $legal_entity_id,
            'legalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);
        // query params
        $queryParams = array_merge($queryParams, ObjectSerializer::toQueryValue(
            $client_legal_entity_id,
            'clientLegalEntityId', // param base name
            'integer', // openApiType
            'form', // style
            true, // explode
            false // required
        ) ?? []);




        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'GET',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation setCommercialOfferSectionOffer
     *
     * Set Commercial Offer Section Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\SetCommercialOfferSectionOffer $set_commercial_offer_section_offer set_commercial_offer_section_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setCommercialOfferSectionOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function setCommercialOfferSectionOffer($id, $section_id, $set_commercial_offer_section_offer, string $contentType = self::contentTypes['setCommercialOfferSectionOffer'][0])
    {
        list($response) = $this->setCommercialOfferSectionOfferWithHttpInfo($id, $section_id, $set_commercial_offer_section_offer, $contentType);
        return $response;
    }

    /**
     * Operation setCommercialOfferSectionOfferWithHttpInfo
     *
     * Set Commercial Offer Section Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\SetCommercialOfferSectionOffer $set_commercial_offer_section_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setCommercialOfferSectionOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function setCommercialOfferSectionOfferWithHttpInfo($id, $section_id, $set_commercial_offer_section_offer, string $contentType = self::contentTypes['setCommercialOfferSectionOffer'][0])
    {
        $request = $this->setCommercialOfferSectionOfferRequest($id, $section_id, $set_commercial_offer_section_offer, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation setCommercialOfferSectionOfferAsync
     *
     * Set Commercial Offer Section Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\SetCommercialOfferSectionOffer $set_commercial_offer_section_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setCommercialOfferSectionOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function setCommercialOfferSectionOfferAsync($id, $section_id, $set_commercial_offer_section_offer, string $contentType = self::contentTypes['setCommercialOfferSectionOffer'][0])
    {
        return $this->setCommercialOfferSectionOfferAsyncWithHttpInfo($id, $section_id, $set_commercial_offer_section_offer, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation setCommercialOfferSectionOfferAsyncWithHttpInfo
     *
     * Set Commercial Offer Section Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\SetCommercialOfferSectionOffer $set_commercial_offer_section_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setCommercialOfferSectionOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function setCommercialOfferSectionOfferAsyncWithHttpInfo($id, $section_id, $set_commercial_offer_section_offer, string $contentType = self::contentTypes['setCommercialOfferSectionOffer'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->setCommercialOfferSectionOfferRequest($id, $section_id, $set_commercial_offer_section_offer, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'setCommercialOfferSectionOffer'
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\SetCommercialOfferSectionOffer $set_commercial_offer_section_offer (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setCommercialOfferSectionOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function setCommercialOfferSectionOfferRequest($id, $section_id, $set_commercial_offer_section_offer, string $contentType = self::contentTypes['setCommercialOfferSectionOffer'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling setCommercialOfferSectionOffer'
            );
        }

        // verify the required parameter 'section_id' is set
        if ($section_id === null || (is_array($section_id) && count($section_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $section_id when calling setCommercialOfferSectionOffer'
            );
        }

        // verify the required parameter 'set_commercial_offer_section_offer' is set
        if ($set_commercial_offer_section_offer === null || (is_array($set_commercial_offer_section_offer) && count($set_commercial_offer_section_offer) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $set_commercial_offer_section_offer when calling setCommercialOfferSectionOffer'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}/sections/{sectionId}/offer';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }
        // path params
        if ($section_id !== null) {
            $resourcePath = str_replace(
                '{' . 'sectionId' . '}',
                ObjectSerializer::toPathValue($section_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($set_commercial_offer_section_offer)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($set_commercial_offer_section_offer));
            } else {
                $httpBody = $set_commercial_offer_section_offer;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation setServiceContractVlan
     *
     * Service Contract set vlan
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\SetServiceContractVlanRequest $set_service_contract_vlan_request set_service_contract_vlan_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setServiceContractVlan'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function setServiceContractVlan($id, $set_service_contract_vlan_request, string $contentType = self::contentTypes['setServiceContractVlan'][0])
    {
        list($response) = $this->setServiceContractVlanWithHttpInfo($id, $set_service_contract_vlan_request, $contentType);
        return $response;
    }

    /**
     * Operation setServiceContractVlanWithHttpInfo
     *
     * Service Contract set vlan
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\SetServiceContractVlanRequest $set_service_contract_vlan_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setServiceContractVlan'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function setServiceContractVlanWithHttpInfo($id, $set_service_contract_vlan_request, string $contentType = self::contentTypes['setServiceContractVlan'][0])
    {
        $request = $this->setServiceContractVlanRequest($id, $set_service_contract_vlan_request, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation setServiceContractVlanAsync
     *
     * Service Contract set vlan
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\SetServiceContractVlanRequest $set_service_contract_vlan_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setServiceContractVlan'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function setServiceContractVlanAsync($id, $set_service_contract_vlan_request, string $contentType = self::contentTypes['setServiceContractVlan'][0])
    {
        return $this->setServiceContractVlanAsyncWithHttpInfo($id, $set_service_contract_vlan_request, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation setServiceContractVlanAsyncWithHttpInfo
     *
     * Service Contract set vlan
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\SetServiceContractVlanRequest $set_service_contract_vlan_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setServiceContractVlan'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function setServiceContractVlanAsyncWithHttpInfo($id, $set_service_contract_vlan_request, string $contentType = self::contentTypes['setServiceContractVlan'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->setServiceContractVlanRequest($id, $set_service_contract_vlan_request, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'setServiceContractVlan'
     *
     * @param  int $id service contract identifier (required)
     * @param  \Infracorp\Extranet\Client\Model\SetServiceContractVlanRequest $set_service_contract_vlan_request (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['setServiceContractVlan'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function setServiceContractVlanRequest($id, $set_service_contract_vlan_request, string $contentType = self::contentTypes['setServiceContractVlan'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling setServiceContractVlan'
            );
        }

        // verify the required parameter 'set_service_contract_vlan_request' is set
        if ($set_service_contract_vlan_request === null || (is_array($set_service_contract_vlan_request) && count($set_service_contract_vlan_request) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $set_service_contract_vlan_request when calling setServiceContractVlan'
            );
        }


        $resourcePath = '/external-api/v2/service_contracts/{id}/vlan';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($set_service_contract_vlan_request)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($set_service_contract_vlan_request));
            } else {
                $httpBody = $set_service_contract_vlan_request;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation signCommercialOffer
     *
     * Sign Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\SignCommercialOffer|null $sign_commercial_offer sign_commercial_offer (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['signCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\SignCommercialOffer200Response
     */
    public function signCommercialOffer($id, $sign_commercial_offer = null, string $contentType = self::contentTypes['signCommercialOffer'][0])
    {
        list($response) = $this->signCommercialOfferWithHttpInfo($id, $sign_commercial_offer, $contentType);
        return $response;
    }

    /**
     * Operation signCommercialOfferWithHttpInfo
     *
     * Sign Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\SignCommercialOffer|null $sign_commercial_offer (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['signCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\SignCommercialOffer200Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function signCommercialOfferWithHttpInfo($id, $sign_commercial_offer = null, string $contentType = self::contentTypes['signCommercialOffer'][0])
    {
        $request = $this->signCommercialOfferRequest($id, $sign_commercial_offer, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\SignCommercialOffer200Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\SignCommercialOffer200Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\SignCommercialOffer200Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation signCommercialOfferAsync
     *
     * Sign Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\SignCommercialOffer|null $sign_commercial_offer (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['signCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function signCommercialOfferAsync($id, $sign_commercial_offer = null, string $contentType = self::contentTypes['signCommercialOffer'][0])
    {
        return $this->signCommercialOfferAsyncWithHttpInfo($id, $sign_commercial_offer, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation signCommercialOfferAsyncWithHttpInfo
     *
     * Sign Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\SignCommercialOffer|null $sign_commercial_offer (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['signCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function signCommercialOfferAsyncWithHttpInfo($id, $sign_commercial_offer = null, string $contentType = self::contentTypes['signCommercialOffer'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\SignCommercialOffer200Response';
        $request = $this->signCommercialOfferRequest($id, $sign_commercial_offer, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'signCommercialOffer'
     *
     * @param  int $id identifiant du devis (required)
     * @param  \Infracorp\Extranet\Client\Model\SignCommercialOffer|null $sign_commercial_offer (optional)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['signCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function signCommercialOfferRequest($id, $sign_commercial_offer = null, string $contentType = self::contentTypes['signCommercialOffer'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling signCommercialOffer'
            );
        }



        $resourcePath = '/external-api/v2/commercial_offers/{id}/sign';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($sign_commercial_offer)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($sign_commercial_offer));
            } else {
                $httpBody = $sign_commercial_offer;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation submitCommercialOffer
     *
     * Submit Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function submitCommercialOffer($id, string $contentType = self::contentTypes['submitCommercialOffer'][0])
    {
        list($response) = $this->submitCommercialOfferWithHttpInfo($id, $contentType);
        return $response;
    }

    /**
     * Operation submitCommercialOfferWithHttpInfo
     *
     * Submit Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitCommercialOffer'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function submitCommercialOfferWithHttpInfo($id, string $contentType = self::contentTypes['submitCommercialOffer'][0])
    {
        $request = $this->submitCommercialOfferRequest($id, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation submitCommercialOfferAsync
     *
     * Submit Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function submitCommercialOfferAsync($id, string $contentType = self::contentTypes['submitCommercialOffer'][0])
    {
        return $this->submitCommercialOfferAsyncWithHttpInfo($id, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation submitCommercialOfferAsyncWithHttpInfo
     *
     * Submit Commercial Offer
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function submitCommercialOfferAsyncWithHttpInfo($id, string $contentType = self::contentTypes['submitCommercialOffer'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->submitCommercialOfferRequest($id, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'submitCommercialOffer'
     *
     * @param  int $id identifiant du devis (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['submitCommercialOffer'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function submitCommercialOfferRequest($id, string $contentType = self::contentTypes['submitCommercialOffer'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling submitCommercialOffer'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}/submit';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Operation updateCommercialOfferSectionItems
     *
     * Update Commercial Offer Section Items
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\UpdateCommercialOfferSectionItems $update_commercial_offer_section_items update_commercial_offer_section_items (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateCommercialOfferSectionItems'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response
     */
    public function updateCommercialOfferSectionItems($id, $section_id, $update_commercial_offer_section_items, string $contentType = self::contentTypes['updateCommercialOfferSectionItems'][0])
    {
        list($response) = $this->updateCommercialOfferSectionItemsWithHttpInfo($id, $section_id, $update_commercial_offer_section_items, $contentType);
        return $response;
    }

    /**
     * Operation updateCommercialOfferSectionItemsWithHttpInfo
     *
     * Update Commercial Offer Section Items
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\UpdateCommercialOfferSectionItems $update_commercial_offer_section_items (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateCommercialOfferSectionItems'] to see the possible values for this operation
     *
     * @throws \Infracorp\Extranet\Client\ApiException on non-2xx response or if the response body is not in the expected format
     * @throws \InvalidArgumentException
     * @return array of \Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response, HTTP status code, HTTP response headers (array of strings)
     */
    public function updateCommercialOfferSectionItemsWithHttpInfo($id, $section_id, $update_commercial_offer_section_items, string $contentType = self::contentTypes['updateCommercialOfferSectionItems'][0])
    {
        $request = $this->updateCommercialOfferSectionItemsRequest($id, $section_id, $update_commercial_offer_section_items, $contentType);

        try {
            $options = $this->createHttpClientOption();
            try {
                $response = $this->client->send($request, $options);
            } catch (RequestException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    $e->getResponse() ? $e->getResponse()->getHeaders() : null,
                    $e->getResponse() ? (string) $e->getResponse()->getBody() : null
                );
            } catch (ConnectException $e) {
                throw new ApiException(
                    "[{$e->getCode()}] {$e->getMessage()}",
                    (int) $e->getCode(),
                    null,
                    null
                );
            }

            $statusCode = $response->getStatusCode();


            switch($statusCode) {
                case 200:
                    return $this->handleResponseWithDataType(
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $request,
                        $response,
                    );
            }

            

            if ($statusCode < 200 || $statusCode > 299) {
                throw new ApiException(
                    sprintf(
                        '[%d] Error connecting to the API (%s)',
                        $statusCode,
                        (string) $request->getUri()
                    ),
                    $statusCode,
                    $response->getHeaders(),
                    (string) $response->getBody()
                );
            }

            return $this->handleResponseWithDataType(
                '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                $request,
                $response,
            );
        } catch (ApiException $e) {
            switch ($e->getCode()) {
                case 200:
                    $data = ObjectSerializer::deserialize(
                        $e->getResponseBody(),
                        '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response',
                        $e->getResponseHeaders()
                    );
                    $e->setResponseObject($data);
                    throw $e;
            }
        

            throw $e;
        }
    }

    /**
     * Operation updateCommercialOfferSectionItemsAsync
     *
     * Update Commercial Offer Section Items
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\UpdateCommercialOfferSectionItems $update_commercial_offer_section_items (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateCommercialOfferSectionItems'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateCommercialOfferSectionItemsAsync($id, $section_id, $update_commercial_offer_section_items, string $contentType = self::contentTypes['updateCommercialOfferSectionItems'][0])
    {
        return $this->updateCommercialOfferSectionItemsAsyncWithHttpInfo($id, $section_id, $update_commercial_offer_section_items, $contentType)
            ->then(
                function ($response) {
                    return $response[0];
                }
            );
    }

    /**
     * Operation updateCommercialOfferSectionItemsAsyncWithHttpInfo
     *
     * Update Commercial Offer Section Items
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\UpdateCommercialOfferSectionItems $update_commercial_offer_section_items (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateCommercialOfferSectionItems'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Promise\PromiseInterface
     */
    public function updateCommercialOfferSectionItemsAsyncWithHttpInfo($id, $section_id, $update_commercial_offer_section_items, string $contentType = self::contentTypes['updateCommercialOfferSectionItems'][0])
    {
        $returnType = '\Infracorp\Extranet\Client\Model\CreateCommercialOffer201Response';
        $request = $this->updateCommercialOfferSectionItemsRequest($id, $section_id, $update_commercial_offer_section_items, $contentType);

        return $this->client
            ->sendAsync($request, $this->createHttpClientOption())
            ->then(
                function ($response) use ($returnType) {
                    if ($returnType === '\SplFileObject') {
                        $content = $response->getBody(); //stream goes to serializer
                    } else {
                        $content = (string) $response->getBody();
                        if ($returnType !== 'string') {
                            $content = json_decode($content);
                        }
                    }

                    return [
                        ObjectSerializer::deserialize($content, $returnType, []),
                        $response->getStatusCode(),
                        $response->getHeaders()
                    ];
                },
                function ($exception) {
                    $response = $exception->getResponse();
                    $statusCode = $response->getStatusCode();
                    throw new ApiException(
                        sprintf(
                            '[%d] Error connecting to the API (%s)',
                            $statusCode,
                            $exception->getRequest()->getUri()
                        ),
                        $statusCode,
                        $response->getHeaders(),
                        (string) $response->getBody()
                    );
                }
            );
    }

    /**
     * Create request for operation 'updateCommercialOfferSectionItems'
     *
     * @param  int $id identifiant du devis (required)
     * @param  int $section_id identifiant de la section (required)
     * @param  \Infracorp\Extranet\Client\Model\UpdateCommercialOfferSectionItems $update_commercial_offer_section_items (required)
     * @param  string $contentType The value for the Content-Type header. Check self::contentTypes['updateCommercialOfferSectionItems'] to see the possible values for this operation
     *
     * @throws \InvalidArgumentException
     * @return \GuzzleHttp\Psr7\Request
     */
    public function updateCommercialOfferSectionItemsRequest($id, $section_id, $update_commercial_offer_section_items, string $contentType = self::contentTypes['updateCommercialOfferSectionItems'][0])
    {

        // verify the required parameter 'id' is set
        if ($id === null || (is_array($id) && count($id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $id when calling updateCommercialOfferSectionItems'
            );
        }

        // verify the required parameter 'section_id' is set
        if ($section_id === null || (is_array($section_id) && count($section_id) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $section_id when calling updateCommercialOfferSectionItems'
            );
        }

        // verify the required parameter 'update_commercial_offer_section_items' is set
        if ($update_commercial_offer_section_items === null || (is_array($update_commercial_offer_section_items) && count($update_commercial_offer_section_items) === 0)) {
            throw new \InvalidArgumentException(
                'Missing the required parameter $update_commercial_offer_section_items when calling updateCommercialOfferSectionItems'
            );
        }


        $resourcePath = '/external-api/v2/commercial_offers/{id}/sections/{sectionId}/update_items';
        $formParams = [];
        $queryParams = [];
        $headerParams = [];
        $httpBody = '';
        $multipart = false;



        // path params
        if ($id !== null) {
            $resourcePath = str_replace(
                '{' . 'id' . '}',
                ObjectSerializer::toPathValue($id),
                $resourcePath
            );
        }
        // path params
        if ($section_id !== null) {
            $resourcePath = str_replace(
                '{' . 'sectionId' . '}',
                ObjectSerializer::toPathValue($section_id),
                $resourcePath
            );
        }


        $headers = $this->headerSelector->selectHeaders(
            ['application/json', ],
            $contentType,
            $multipart
        );

        // for model (json/xml)
        if (isset($update_commercial_offer_section_items)) {
            if (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the body
                $httpBody = \GuzzleHttp\Utils::jsonEncode(ObjectSerializer::sanitizeForSerialization($update_commercial_offer_section_items));
            } else {
                $httpBody = $update_commercial_offer_section_items;
            }
        } elseif (count($formParams) > 0) {
            if ($multipart) {
                $multipartContents = [];
                foreach ($formParams as $formParamName => $formParamValue) {
                    $formParamValueItems = is_array($formParamValue) ? $formParamValue : [$formParamValue];
                    foreach ($formParamValueItems as $formParamValueItem) {
                        $multipartContents[] = [
                            'name' => $formParamName,
                            'contents' => $formParamValueItem
                        ];
                    }
                }
                // for HTTP post (form)
                $httpBody = new MultipartStream($multipartContents);

            } elseif (stripos($headers['Content-Type'], 'application/json') !== false) {
                # if Content-Type contains "application/json", json_encode the form parameters
                $httpBody = \GuzzleHttp\Utils::jsonEncode($formParams);
            } else {
                // for HTTP post (form)
                $httpBody = ObjectSerializer::buildQuery($formParams);
            }
        }

        // this endpoint requires API key authentication
        $apiKey = $this->config->getApiKeyWithPrefix('Authorization');
        if ($apiKey !== null) {
            $headers['Authorization'] = $apiKey;
        }
        // this endpoint requires Bearer authentication (access token)
        if (!empty($this->config->getAccessToken())) {
            $headers['Authorization'] = 'Bearer ' . $this->config->getAccessToken();
        }

        $defaultHeaders = [];
        if ($this->config->getUserAgent()) {
            $defaultHeaders['User-Agent'] = $this->config->getUserAgent();
        }

        $headers = array_merge(
            $defaultHeaders,
            $headerParams,
            $headers
        );

        $operationHost = $this->config->getHost();
        $query = ObjectSerializer::buildQuery($queryParams);
        return new Request(
            'POST',
            $operationHost . $resourcePath . ($query ? "?{$query}" : ''),
            $headers,
            $httpBody
        );
    }

    /**
     * Create http client option
     *
     * @throws \RuntimeException on file opening failure
     * @return array of http client options
     */
    protected function createHttpClientOption()
    {
        $options = [];
        if ($this->config->getDebug()) {
            $options[RequestOptions::DEBUG] = fopen($this->config->getDebugFile(), 'a');
            if (!$options[RequestOptions::DEBUG]) {
                throw new \RuntimeException('Failed to open the debug file: ' . $this->config->getDebugFile());
            }
        }

        return $options;
    }

    private function handleResponseWithDataType(
        string $dataType,
        RequestInterface $request,
        ResponseInterface $response
    ): array {
        if ($dataType === '\SplFileObject') {
            $content = $response->getBody(); //stream goes to serializer
        } else {
            $content = (string) $response->getBody();
            if ($dataType !== 'string') {
                try {
                    $content = json_decode($content, false, 512, JSON_THROW_ON_ERROR);
                } catch (\JsonException $exception) {
                    throw new ApiException(
                        sprintf(
                            'Error JSON decoding server response (%s)',
                            $request->getUri()
                        ),
                        $response->getStatusCode(),
                        $response->getHeaders(),
                        $content
                    );
                }
            }
        }

        return [
            ObjectSerializer::deserialize($content, $dataType, []),
            $response->getStatusCode(),
            $response->getHeaders()
        ];
    }

    private function responseWithinRangeCode(
        string $rangeCode,
        int $statusCode
    ): bool {
        $left = (int) ($rangeCode[0].'00');
        $right = (int) ($rangeCode[0].'99');

        return $statusCode >= $left && $statusCode <= $right;
    }
}
